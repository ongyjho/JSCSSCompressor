$(function(){var e=$("body"),o=e.attr("data-postype-url"),i=e.attr("data-user-id");$(document).on("click",".btn-like",function(e){e.preventDefault();var s=$(this),a=s.attr("data-post-id"),t=s.find(".count, .like-count"),i=0;0<t.length?(i=parseInt($.trim(t.text())),isNaN(i)&&(i=0)):s.hasClass("no-count")||(t=$("<span class='like-count count'></span>"),s.append(t));var n=$(".btn-like[data-post-id="+a+"]");return s.hasClass("active")?(n.removeClass("active"),i--):(i++,n.addClass("active")),0<t.length&&(n.find(".count, .like-count").text(i),0===i?t.hide():t.show()),$.ajax({url:o+"/api/like",type:"get",dataType:"jsonp",data:"post_id="+a,success:function(e){"success"!==e.status&&("no-permission"===e.status?0<$("#easy-login").length?$("#easy-login").modal("show"):confirmPostype(e.message,function(){location.href=o+"/login"}):"no-activation"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):alertPostype(e.message),n.removeClass("active"),i--,n.find(".count, .like-count").text(i),0===i&&t.hide())},complete:function(){}}),!1});$(document).on("click",".btn-subscribe",function(e){e.preventDefault(),0;var s=$(this),a=s.attr("data-blog-id");return a&&$.ajax({url:postypeUrl+"/api/subscribe",type:"get",dataType:"jsonp",data:"blog_id="+a,success:function(e){"success"===e.status?e.data.is_subscribed?s.addClass("active"):s.removeClass("active"):"no-permission"===e.status?(s.removeClass("active"),0<$("#easy-login").length?$("#easy-login").modal("show"):confirmPostype(e.message,function(){location.href=o+"/login"})):"no-activation"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):(s.removeClass("active"),alertPostype(e.message,function(){history.go(0)}))},complete:function(){}}),!1});$(document).on("click",".btn-scrap",function(e){e.preventDefault();var s=$(this),a=s.attr("data-post-id");return $.ajax({url:o+"/api/scrap",type:"get",dataType:"jsonp",data:"post_id="+a,success:function(e){"success"===e.status?e.data.is_scrapped?(s.addClass("active"),toast("읽기 목록에 추가했습니다.")):0<window.location.href.indexOf("/library")?alertPostype("읽기 목록에서 제외했습니다.",function(){window.history.go(0)}):(toast("읽기 목록에서 제외했습니다."),s.removeClass("active")):"failure"===e.status?alertPostype(e.message,function(){}):"no-permission"===e.status?0<$("#easy-login").length?$("#easy-login").modal("show"):confirmPostype(e.message,function(){location.href=o+"/login"}):"no-activation"===e.status&&e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url})},complete:function(){}}),!1});var t,n,r,l,c,d=$("#conversation");0<d.length&&(t=d.find("form"),n=t.find("button.btn-primary"),r=t.find("textarea"),l=d.find("#conversation-main"),d.find(".convertsation-item:first").remove(),r.on("keyup",function(){""===$.trim(r.val())?n.attr("disabled","disabled"):n.removeAttr("disabled")}),$("html").hasClass("non-mobile")&&r.on("keydown",function(e){if(13===e.keyCode&&!1===e.shiftKey)return t.submit(),!1}),$(document).on("click",".btn-send-message",function(){$(".modal").modal("hide");var e=$(this),s=e.attr("data-user-profile-id"),a=e.attr("data-message-user-id");return t.find("[name=user_profile_id]").val(s),t.find("[name=message_user_id]").val(a),function(){l.empty(),d.find("#conversation-thumbnail").parent().hasClass("wrapper")&&d.find("#conversation-thumbnail").unwrap();$.ajax({url:o+"/api/message/list",type:"get",dataType:"jsonp",data:"user_profile_id="+t.find("[name=user_profile_id]").val()+"&message_user_id="+t.find("[name=message_user_id]").val(),success:function(t){"success"===t.status?(d.find("#conversation-thumbnail").attr("src",t.data.user_thumbnail),d.find("#conversation-thumbnail").wrap('<a href="#" class="wrapper"'+t.data.user_attribute+"></a>"),d.find("#conversation-title").html(t.data.user_nickname),d.attr("data-message-user-id",t.data.message_user_id),d.attr("data-user-profile-id",t.data.user_profile_id),setTimeout(function(){d.modal("show"),"enabled"===t.data.status?($("#conversation-disabled").removeClass("d-flex").addClass("d-none"),$("#conversation-enabled").removeClass("d-none").addClass("d-flex")):($("#conversation-disabled").removeClass("d-none").addClass("d-flex"),$("#conversation-enabled").removeClass("d-flex").addClass("d-none")),$(t.data.messages).each(function(e,s){var a=parseInt(s.user_id)===parseInt(i)?$('<div class="conversation-item me" data-message-id="'+s.message_id+'"><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button></div></div><div class="conversation-meta"><time>'+diffTime(s.created_at)+"</time></div></div></div>"):$('<div class="conversation-item" data-message-id="'+s.message_id+'"><a href="#" '+t.data.user_attribute+'><img class="user-avatar" src="'+s.user_thumbnail+'" alt="'+s.user_nickname+'"></a><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button><button type="button" class="btn btn-icon btn-report-message" aria-label="신고"><i class="fal fa-flag"></i></button></div></div><div class="conversation-meta"><time>'+diffTime(s.created_at)+"</time></div></div></div>");l.append(a)});var e=l.get(0);e.scrollTop=e.scrollHeight},170)):"no-permission"===t.status?t.message&&confirmPostype(t.message,function(){location.href=t.failure_return_url}):alertPostype(t.message)}})}(),!1}),c=!1,l.on("scroll",function(){l.scrollTop()<=0&&!1===c&&function(){var s=l.find(">.conversation-item:first"),e=s.attr("data-message-id");if(void 0===e)return;c=!0,$.ajax({url:o+"/api/message/list",type:"get",dataType:"jsonp",data:"user_profile_id="+t.find("[name=user_profile_id]").val()+"&message_user_id="+t.find("[name=message_user_id]").val()+"&type=before&message_id="+e,success:function(e){"success"===e.status&&($(e.data.messages).each(function(e,s){var a=parseInt(s.user_id)===parseInt(i)?$('<div class="conversation-item me" data-message-id="'+s.message_id+'"><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button></div></div><div class="conversation-meta"><time data-time="'+s.created_at+'">'+diffTime(s.created_at)+"</time></div></div></div>"):$('<div class="conversation-item" data-message-id="'+s.message_id+'"><img class="user-avatar" src="'+s.user_thumbnail+'" alt="'+s.user_nickname+'"><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button><button type="button" class="btn btn-icon btn-report-message" aria-label="신고"><i class="fal fa-flag"></i></button></div></div><div class="conversation-meta"><time data-time="'+s.created_at+'">'+diffTime(s.created_at)+"</time></div></div></div>");l.prepend(a)}),l.scrollTop(s.get(0).offsetTop-30)),c=!1}})}()}),setInterval(function(){d.hasClass("show")&&!1===c&&function(){var e=l.find(">.conversation-item:last").attr("data-message-id");if(void 0===e)return;c=!0,$.ajax({url:o+"/api/message/list",type:"get",dataType:"jsonp",data:"user_profile_id="+t.find("[name=user_profile_id]").val()+"&type=after&message_id="+e,success:function(e){var t,s;"success"===e.status&&(t=0,$(e.data.messages).each(function(e,s){var a=parseInt(s.user_id)===parseInt(i)?$('<div class="conversation-item me" data-message-id="'+s.message_id+'"><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button></div></div><div class="conversation-meta"><time data-time="'+s.created_at+'">'+diffTime(s.created_at)+"</time></div></div></div>"):$('<div class="conversation-item" data-message-id="'+s.message_id+'"><img class="user-avatar" src="'+s.user_thumbnail+'" alt="'+s.user_nickname+'"><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button><button type="button" class="btn btn-icon btn-report-message" aria-label="신고"><i class="fal fa-flag"></i></button></div></div><div class="conversation-meta"><time data-time="'+s.created_at+'">'+diffTime(s.created_at)+"</time></div></div></div>");t++,l.append(a)}),0<t&&((s=l.get(0)).scrollTop=s.scrollHeight)),c=!1}})}()},5e3),t.off("submit"),t.on("submit",function(){n.attr("disabled","disabled"),n.loading(!0),r.attr("readonly","readonly"),c=!0;var a=l.find(">.conversation-item:last").attr("data-message-id");return $.ajax({url:o+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(e){var s;"success"===e.status&&(s=e.data.key,t.find("input[name=session_key]").val(s),t.find("input[name=message_id]").val(a),t.ajaxSubmit({type:"POST",dataType:"json",success:function(e){var s;"success"===e.status?(d.attr("data-message-user-id",e.data.message_user_id),$(e.data.messages).each(function(e,s){var a=parseInt(s.user_id)===parseInt(i)?$('<div class="conversation-item me" data-message-id="'+s.message_id+'"><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button></div></div><div class="conversation-meta"><time data-time="'+s.created_at+'">'+diffTime(s.created_at)+"</time></div></div></div>"):$('<div class="conversation-item" data-message-id="'+s.message_id+'"><img class="user-avatar" src="'+s.user_thumbnail+'" alt="'+s.user_nickname+'"><div class="conversation-message"><div class="inner"><div class="message-bubble"><p class="message">'+nl2brHtml(s.message)+'</p></div><div class="btn-group"><button type="button" class="btn btn-icon btn-delete-message" aria-label="삭제"><i class="fal fa-trash-alt"></i></button><button type="button" class="btn btn-icon btn-report-message" aria-label="신고"><i class="fal fa-flag"></i></button></div></div><div class="conversation-meta"><time data-time="'+s.created_at+'">'+diffTime(s.created_at)+"</time></div></div></div>");l.append(a)}),(s=l.get(0)).scrollTop=s.scrollHeight):"no-permission"===e.status?confirmPostype(e.message,function(){location.href=o+"/login"}):alertPostype(e.message),c=!1},error:function(e,s,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){r.val(""),n.removeAttr("disabled"),r.removeAttr("readonly"),n.loading(!1),autosize.update(r),r.focus()}}))}}),!1}),l.on("click",".btn-delete-message",function(){var a=$(this);confirmPostype("해당 메시지를 삭제하시겠습니까?",function(){var s=a.parents(".conversation-item:first"),e=s.attr("data-message-id");$.ajax({url:o+"/api/message/"+e,type:"get",dataType:"jsonp",success:function(e){"success"===e.status?s.remove():alertPostype(e.message)}})})}),$("#btn-leave-conversation").on("click",function(){return confirmPostype("대화방을 삭제하시겠습니까?",function(){var e=d.attr("data-message-user-id");$.ajax({url:o+"/api/message_user/"+e,type:"get",dataType:"jsonp",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0),d.modal("hide"),t.find("[name=user_id]").val("")}):alertPostype(e.message)}})}),!1}),$("#btn-message-block-user").on("click",function(){return confirmPostype("해당 이용자를 차단하시겠습니까?",function(){var e=d.attr("data-user-profile-id");$.ajax({url:o+"/api/message_block",type:"get",dataType:"jsonp",data:"user_profile_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){d.modal("hide"),t.find("[name=user_id]").val(""),t.find("[name=user_profile_id]").val("")}):alertPostype(e.message)}})}),!1}),$(".btn-message-unblock-user").on("click",function(){var e=$(this).attr("data-user-profile-id");return confirmPostype("해당 이용자를 차단 해제하시겠습니까?",function(){$.ajax({url:o+"/api/message_block/"+e,type:"get",dataType:"jsonp",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})}),!1})),$(document).on("click",".btn-remove[data-post-id]",function(){var e=$(this).data("post-id"),s=$(this).attr("data-success-url");return confirmPostype("포스트를 삭제 하시겠습니까?",function(){"boolean"==typeof blockLeave&&(blockLeave=!1),$.ajax({url:o+"/api/post/trash/"+e,type:"get",dataType:"jsonp",success:function(e){"success"===e.status?alertPostype(e.message,function(){void 0!==s?location.href=s:window.history.go(0)}):alertPostype(e.message)}})},function(){return!1}),!1});var s=$("#share");s.find("button").on("click",function(){s.toggleClass("open")}),$(document).on("click",function(e){0==$(e.target).parents("#share").length&&s.removeClass("open")});var a=$("#like-box");0<a.length&&$("#btn-like-more").on("click",function(){a.css({height:"auto"}),$(this).hide()})});
$(function(){var n=$("body").attr("data-postype-url");$(document).on("click","a.file-download",function(e){var t=$(this),a=t.attr("href"),o=t.find(".file-name").text();try{try{window.postype.fileDownload(n+a,o)}catch(e){webkit.messageHandlers.postype.postMessage({name:"fileDownload",body:{fileUrl:n+a,fileName:o}})}}catch(e){}return e.preventDefault(),!1}),$(document).on("click",".photoset a",function(e){var t=$(this).attr("href");try{try{window.postype.onImageClick(t)}catch(e){webkit.messageHandlers.postype.postMessage({name:"onImageClick",body:{imageUri:t}})}}catch(e){}return e.preventDefault(),!1}),$(document).on("click","a[href*='.postype.'], a[href*='posty.pe']",function(e){var t=$(this).attr("href"),a={type:"unknown",value:t,original_url:t};return $.ajax({url:"/api/util/url",type:"get",dataType:"json",data:"url="+encodeURIComponent(t),success:function(e){try{"success"===e.status&&(a=e.data)}catch(e){}},complete:function(){try{try{window.postype.onLinkClick(t,JSON.stringify(a))}catch(e){webkit.messageHandlers.postype.postMessage({name:"onLinkClick",body:a})}}catch(e){}}}),e.preventDefault(),!1});var s=new Array;$(".photoset a").each(function(e,t){var a=$(t),o=a.attr("href"),n=new Object;n.src=o,n.alt=a.find("img").attr("alt"),s.push(n)}),clearPhotoset(),resizePhotoset(),resizeIframe();var t=$(window).width();$(window).resize(function(){var e=$(window).width();t!==e&&(resizePhotoset(),resizeIframe(),t=e)}),$("#post-content").addClass("visible");try{try{window.postype.onImageLoad(JSON.stringify(s)),window.postype.onLoadFinish()}catch(e){webkit.messageHandlers.postype.postMessage({name:"onImageLoad",body:s}),webkit.messageHandlers.postype.postMessage({name:"onLoadFinish",body:null})}}catch(e){}});
$(function(){});
$(function(){var t=$("#blog-name").val();$("#check-all").on("click",function(){$(this).prop("checked")?$("input.check-item").prop("checked",!0):$("input.check-item").prop("checked",!1),s()}),$("input.check-item").on("click",function(){s()});var e=$("#postBulkActions .btn");function s(){0===$("input.check-item:checked").length?e.addClass("disabled"):e.removeClass("disabled")}s(),$("#post-search-toggler").on("click",function(e){return e.preventDefault(),$("#post-search").toggleClass("show"),$("#post-search-input").focus(),!1});var o=$("#changeCategory"),a=$(".btn-move-category"),i=$("#btn-change-category1,#btn-change-category2");a.on("click",function(){var e=$(this).parents(".list-group-item").find("input.check-item").val();o.find("input[name=post_ids]").val(e),u($(this))}),i.on("click",function(){var e="",t=!1;$("input.check-item:checked").each(function(){e+=$(this).val()+",",t||(u($(this)),t=!0)}),o.find("input[name=post_ids]").val(e)});var r=$("#publishSettings"),n=$(".btn-publish-setting"),c=$("#secret-password-form"),d=$("#btn-publish-setting"),p=$("#membership-plan-form");function l(){"secret"===r.find("input[name=public_option]:checked").val()?(c.show(),p.hide()):"membership"===r.find("input[name=public_option]:checked").val()?(c.hide(),p.show()):(p.hide(),c.hide())}function u(e){var t=e.parents("[data-category-id]"),s=t.attr("data-category-id"),a=t.attr("data-public-option"),i=t.attr("data-is-notice"),n=t.attr("data-for-adult");"Y"===i?r.find("input[name=is_notice]").prop("checked",!0):r.find("input[name=is_notice]").prop("checked",!1),"Y"===n?r.find("input[name=for_adult]").prop("checked",!0):r.find("input[name=for_adult]").prop("checked",!1),a&&(r.find("input[name=public_option]").prop("checked",!1),r.find("input[name=public_option][value="+a+"]").prop("checked",!0),"secret"===a?(c.show(),p.hide()):"membership"===a?(c.hide(),p.show()):(c.hide(),p.hide())),o.find("input[name=category_id]").prop("checked",!1),s&&o.find("input[name=category_id][value="+s+"]").prop("checked",!0)}n.on("click",function(){var e=$(this).parents(".list-group-item").find("input.check-item").val();r.find("input[name=post_ids]").val(e),l(),u($(this))}),d.on("click",function(){var e="",t=!1;$("input.check-item:checked").each(function(){e+=$(this).val()+",",t||(u($(this)),t=!0)}),r.find("input[name=post_ids]").val(e),l()}),r.find("input[name=public_option]").on("click",function(){l()});var m=$("#deletePost"),f=$(".btn-delete-post"),h=$("#btn-delete-post");f.on("click",function(){var e=$(this).parents(".list-group-item").find("input.check-item").val();m.find("input[name=post_ids]").val(e)}),h.on("click",function(){var e="";$("input.check-item:checked").each(function(){e+=$(this).val()+","}),m.find("input[name=post_ids]").val(e)});var g=$("#moveToTrash"),v=$("#btn-move-to-trash1,#btn-move-to-trash2,#btn-move-to-trash3"),b=$(".btn-move-to-trash");v.on("click",function(){var e="";$("input.check-item:checked").each(function(){e+=$(this).val()+","}),g.find("input[name=post_ids]").val(e)}),b.on("click",function(){var e=$(this).parents(".list-group-item").find("input.check-item").val();g.find("input[name=post_ids]").val(e)});var y=$("#revertToDraft"),k=$("#btn-revert-to-draft"),w=$(".btn-revert-to-draft");k.on("click",function(){var e="";$("input.check-item:checked").each(function(){e+=$(this).val()+","}),y.find("input[name=post_ids]").val(e)}),w.on("click",function(){var e=$(this).parents(".list-group-item").find("input.check-item").val();y.find("input[name=post_ids]").val(e)}),$("#category").on("change",function(){$(this).parent("form").submit()});var _,P=$("#series-manage-form");0<P.length&&(_=$("#series-list li"),$("#enter-edit-mode").on("click",function(){P.addClass("edit-mode")}),$("#leave-edit-mode").on("click",function(){P.removeClass("edit-mode"),_.removeClass("active")}),$("#save-series-order").on("click",function(){P.removeClass("edit-mode"),_.removeClass("active")}),P.on("click",".btn-upward",function(){var e=$(this).parents("li");e.siblings().removeClass("active"),e.addClass("active");var t=e.prev();return 1!=t.length||t.hasClass("category-all")||t.before(e),!1}),P.on("click",".btn-downward",function(){var e=$(this).parents("li");e.siblings().removeClass("active"),e.addClass("active");var t=e.next();return 1==t.length&&t.after(e),!1}),P.on("click",".btn-delete-series",function(){var e=$(this).attr("data-category-id");return confirmPostype("시리즈를 삭제하시겠습니까?",function(){$.ajax({url:"/category/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})}),!1})),$(document).on("change","#upload-series-cover",function(){var e,t,s=$(this),a=s.parents("form"),i=s.get(0),n=0;return"image/gif"!==(t="Microsoft Internet Explorer"===navigator.appName?(n=(e=new ActiveXObject("Scripting.FileSystemObject")).getFile(i.value).size,e.getFile(i.value).type):(n=i.files[0].size,i.files[0].type))&&"image/jpeg"!==t&&"image/png"!==t?alertPostype("올바르지 않은 파일 형식입니다."):10485760<n?(alertPostype("사진은 10MB 이내로 등록 가능합니다."),$("html").hasClass("ie")?s.replaceWith(s.clone()):s.val("")):(showLoading(),a.ajaxSubmit({url:"/file/upload",dataType:"json",type:"post",success:function(e){"success"===e.status?(a.find("input[name=file_id]").val(e.data[0].file_id),a.find("input[name=file_delete]").val(""),$(".series-cover").addClass("has-img").attr("style","background-image:url('"+e.data[0].thumbnail+"')")):"failure"===e.status&&alertPostype(e.message)},complete:function(){$("html").hasClass("ie")?s.replaceWith(s.clone()):s.val(""),hideLoading()}})),!1}),$("#delete-series-cover").on("click",function(){$(".series-cover").removeClass("has-img").removeAttr("style"),$(this).parents("form").find("input[name=file_id]").val(""),$(this).parents("form").find("input[name=file_delete]").val("1"),$("#delete-series-cover").addClass("d-none")});var x,j,C,T,A,L,S,M,I,E,F,U,Y,z,B=$("#poster-form"),D=$("#poster-item-wrapper"),G=$("#selectPostToAdvertise"),q=($("#position-channel"),$("#btn-reset-poster"),$("#poster-posts-wrapper")),O=$("#poster-series-wrapper");function R(){$.ajax({url:"/api/poster/series",type:"get",dataType:"json",data:"blog_id="+B.find("input[name=blog_id]").val()+"&page="+j,success:function(e){"success"===e.status?(O.find(".poster-series").html(e.data.html),e.data.prev===e.data.current?A.attr("disabled","disabled"):A.removeAttr("disabled"),e.data.next===e.data.current?L.attr("disabled","disabled"):L.removeAttr("disabled")):alertPostype(e.message)}})}function W(){$.ajax({url:"/api/poster/posts",type:"get",dataType:"json",data:"blog_id="+B.find("input[name=blog_id]").val()+"&page="+x,success:function(e){"success"===e.status?(q.find(".poster-posts").html(e.data.html),e.data.prev===e.data.current?C.attr("disabled","disabled"):C.removeAttr("disabled"),e.data.next===e.data.current?T.attr("disabled","disabled"):T.removeAttr("disabled")):alertPostype(e.message)}})}function N(){"post"===$("input[name=works_type]:checked").val()?($("#nav-series-tab").hasClass("active")?(I.show(),E.hide(),F.hide()):(I.hide(),E.hide(),F.show()),U.hide()):$("#nav-series-tab").hasClass("active")?(I.hide(),E.hide(),F.hide(),U.show()):(I.hide(),E.show(),F.hide(),U.hide())}function X(){975<=Y.width()?(z.detach(),$("#poster-preview-lg").append(z)):$("#poster-preview-md").append(z);var e=$("#main-content"),t=e.find(".poster-add-section .row");t.removeAttr("style");var s=e.height();t.height(s)}0<G.length&&(j=x=1,C=$("#btn-poster-posts-prev"),T=$("#btn-poster-posts-next"),A=$("#btn-poster-series-prev"),L=$("#btn-poster-series-next"),$("#post-works, #series-works").on("change",function(){"post"===$("input[name=poster_works]:checked").val()?(q.show(),O.hide(),W()):(O.show(),q.hide(),R())}),G.on("click",".poster-select",function(){return G.find(".poster-select").removeClass("active"),$(this).addClass("active"),!1}),G.on("shown.bs.modal",function(){0===q.find(".poster-select").length&&W()}),C.on("click",function(){x--,W()}),T.on("click",function(){x++,W()}),A.on("click",function(){j--,R()}),L.on("click",function(){j++,R()}),S=$("#btn-select-poster"),M=$(".preview-frame"),S.on("click",function(){var e=G.find(".poster-select.active");if(0===e.length)return alertPostype("선택한 포스트가 없습니다."),!1;var t,s,a=e.clone(),i=a.find(".media .media-object").css("backgroundImage");"post"===e.attr("data-type")?(t=e.attr("data-post-id"),B.find("input[name=post_id]").val(t),B.find("input[name=category_id]").val(""),$("#works-type-post").removeAttr("disabled").click(),$("#works-type-series").attr("disabled","disabled"),$(".preview-frame.is-series").hide(),$(".preview-frame.is-post").show(),M.find(".pst-img").removeClass("sample-img").css("backgroundImage",i),M.find(".pst-title-text").text(e.find(".post-title").text()),M.find(".pst-summary-text").text(e.find(".post-summary").text()),M.find(".user-avatar").attr("src",e.find(".user-avatar").text()),M.find(".pst-user-nickname").text(e.find(".user-nickname").text()),M.find(".pst-time").text(e.find(".time").text())):(s=e.attr("data-category-id"),B.find("input[name=post_id]").val(""),B.find("input[name=category_id]").val(s),$("#works-type-series").removeAttr("disabled").click(),$("#works-type-post").attr("disabled","disabled"),$(".preview-frame.is-series").show(),$(".preview-frame.is-post").hide(),M.find(".series-cover").removeClass("sample-img").css("backgroundImage",i),M.find(".series-title").text(e.find(".series-title").text()),M.find(".series-text").text(e.find(".series-text").text()),M.find(".series-total-count").text(e.find(".series-total-count").text()),M.find(".series-status").text(e.find(".series-status").text()),M.find(".series-authors").text(e.find(".series-authors").text())),a.on("click",function(){return!1}),a.removeClass("active"),D.html(a),G.modal("hide"),N()}),$("#works-type-series, #works-type-post").on("change",function(){"post"===$("input[name=works_type]:checked").val()?($(".preview-frame.is-series").hide(),$(".preview-frame.is-post").show()):($(".preview-frame.is-series").show(),$(".preview-frame.is-post").hide()),N()}),$("#btn-viewport-desktop").on("click",function(){M.removeClass("is-mobile").addClass("is-desktop")}),$("#btn-viewport-mobile").on("click",function(){M.removeClass("is-desktop").addClass("is-mobile")}),$("#nav-series-tab, #nav-search-tab").on("click",function(){N()}),I=$("#series-desc-1"),E=$("#series-desc-2"),F=$("#series-desc-3"),U=$("#series-desc-4"),Y=$("body"),z=$("#poster-preview"),X(),$(window).resize(function(){X()})),$(".btn-stop-poster").on("click",function(){var e=$(this).attr("data-poster-id");confirmPostype("포스터 광고를 중단 하시겠습니까?",function(){$.ajax({url:"/api/poster/stop",type:"post",dataType:"json",data:"poster_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-restart-poster").on("click",function(){var e=$(this).attr("data-poster-id");confirmPostype("포스터 광고를 재개 하시겠습니까?",function(){$.ajax({url:"/api/poster/start",type:"post",dataType:"json",data:"poster_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-delete-poster").on("click",function(){var e=$(this).attr("data-poster-id");confirmPostype("포스터 광고를 삭제 하시겠습니까?",function(){$.ajax({url:"/api/poster/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})});var H=$(".btn-unblock");0<H.length&&H.on("click",function(){var e=$(this).attr("data-user-profile-id"),t=$(this).attr("data-blog-id");confirmPostype("사용자 차단을 해제 하시겠습니까?",function(){$.ajax({url:"/api/blog/"+t+"/unblock/"+e,type:"get",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-leave-blog").on("click",function(){var e=$(this).parents(".media-profile").attr("data-blog-member-id");$.ajax({url:"/blog/"+t+"/admin/leave",type:"post",dataType:"json",data:"blog_member_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})}),$(".btn-role-author").on("click",function(){var e=$(this).parents(".media-profile").attr("data-blog-member-id");$.ajax({url:"/blog/"+t+"/admin/role",type:"post",dataType:"json",data:"blog_member_id="+e+"&role=author",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})}),$(".btn-role-admin").on("click",function(){var e=$(this).parents(".media-profile").attr("data-blog-member-id");$.ajax({url:"/blog/"+t+"/admin/role",type:"post",dataType:"json",data:"blog_member_id="+e+"&role=admin",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})});var J=$("#social-settings");0<J.length&&J.on("click","a",function(){var e=$(this),t=e.attr("href");return $("div.form-group[id*=setting-]").hide(),$(t).show(),J.find(".active").removeClass("active"),e.addClass("active"),!1});var K=$(".btn-subscriber-release");0<K.length&&K.on("click",function(){var e=$(this),t=e.attr("data-blog-id"),s=e.attr("data-user-id"),a=e.attr("data-user-profile-id");confirmPostype("해당 구독자를 내보내시겠습니까?",function(){$.ajax({url:"/blog/unsubscribe",type:"get",dataType:"json",data:"blog_id="+t+"&user_id="+s+"&user_profile_id="+a,success:function(e){"success"===e.status?setTimeout(function(){confirmPostype("구독자를 내보냈습니다. 해당 구독자를 블로그에서 차단하고 싶으시다면 '예'를 눌러주세요.",function(){$.ajax({url:postypeUrl+"/api/blog/"+t+"/block/"+a,type:"get",dataType:"jsonp",success:function(e){e.status,alertPostype(e.message,function(){window.history.go(0)})}})},function(){window.history.go(0)})},500):alertPostype(e.message)},error:function(e){console.log(e)}})})}),$("#btn-delete-blog").on("click",function(){var e=$(this).attr("data-blog-id");return confirmPostype("포스타입을 삭제하시겠습니까? 삭제하신 포스타입은 복구가 불가능합니다",function(){$.ajax({url:"/api/blog/"+e,type:"DELETE",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.location.href="/"}):alertPostype(e.message)}})}),!1});var Q,V,Z=$("#report-form");0<Z.length&&(Q=$("#btn-report-submit"),V=$("#btn-report-download"),Q.on("click",function(){Z.find("input[name=type]").val("view")}),V.on("click",function(){Z.find("input[name=type]").val("csv")}),$("#input-start").datetimepicker({format:"Y.m.d",timepicker:!1}),$("#input-end").datetimepicker({format:"Y.m.d",timepicker:!1}));var ee,te=$("#use-blog-profile");0<te.length&&(ee=$("#blog-profile-option"),te.on("change",function(){te.prop("checked")?ee.show():ee.hide()}));var se=$("#blog-group-invite-url-form"),ae=$("#btn-url-reset");0<ae.length&&ae.on("click",function(){var e=$(this).attr("data-team-group-id");confirmPostype("URL를 재설정하시겠습니까? 기존 초대 URL은 더이상 사용할 수 없게됩니다.",function(){$.ajax({url:"/teamGroup/resetUrl",type:"get",dataType:"json",data:"team_group_id="+e,success:function(e){"success"===e.status?(se.find("#blog-group-invite-url").val(e.data.invite_url),alertPostype(e.message,function(){window.history.go(0)})):alertPostype(e.message)}})})}),$(".btn-team-group-invite-url").on("click",function(){var e=$(this).attr("data-team-group-id");$.ajax({url:"/teamGroup/read",type:"get",dataType:"json",data:"team_group_id="+e,success:function(e){"success"===e.status?(ae.attr("data-team-group-id",e.data.team_group_id),se.modal("show"),se.find("#blog-group-invite-url").val(e.data.invite_url),se.find("#blog-group-invite-url").val(e.data.invite_url)):alertPostype(e.message)}})}),$(".btn-team-group-delete").on("click",function(){var e=$(this).attr("data-team-group-id");confirmPostype("그룹을 삭제하시겠습니까?",function(){$.ajax({url:"/teamGroup/delete",type:"get",dataType:"json",data:"team_group_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-team-member-accept").on("click",function(){var e=$(this).attr("data-team-member-id");confirmPostype("수락하시겠습니까?",function(){$.ajax({url:"/teamMember/update",type:"post",dataType:"json",data:"team_member_id="+e+"&status=completed",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-team-member-reject").on("click",function(){var e=$(this).attr("data-team-member-id");confirmPostype("거절하시겠습니까?",function(){$.ajax({url:"/teamMember/delete",type:"post",dataType:"json",data:"team_member_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})});var ie=$("#team-group-change");$(".btn-team-group-change").on("click",function(){var e=$(this),t=e.attr("data-team-member-id"),s=e.attr("data-team-group-id");ie.find("input[name=team_member_id]").val(t),ie.find("select[name=team_group_id]").val(s),ie.modal("show")}),$(".btn-team-member-release").on("click",function(){var e=$(this).attr("data-team-member-id");confirmPostype("팀원을 내보내시겠습니까?",function(){$.ajax({url:"/teamMember/delete",type:"post",dataType:"json",data:"team_member_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-team-member-leave").on("click",function(){var e=$(this).attr("data-team-member-id");return confirmPostype("팀에서 떠나시겠습니까? 기존에 발행된 포스트는 물론 예약발행, 검수요청, 임시저장 단계의 포스트 모두 블로그의 소유가 되며 더 이상 접근이 불가능해집니다.",function(){$.ajax({url:"/teamMember/leave",type:"post",dataType:"json",data:"team_member_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.location.href=e.success_return_url}):alertPostype(e.message)}})}),!1}),$("#btn-use-basic").on("click",function(){var e=$(this).attr("data-blog-id");confirmPostype("베이직 요금제를 선택하면 기존 요금제의 정기 결제가 해지됩니다. 기존 요금제는 다음 결제일 전까지 남은 기간 동안 계속해서 이용할 수 있습니다. 정기 결제 해지를 계속 진행하려면 [예]를 클릭해주세요.",function(){$.ajax({url:"/payment/stop",type:"post",dataType:"json",data:"blog_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-auto-post-auth").on("click",function(){var e=$(this).data("blog-id"),t=$(this).data("type"),s=$(this).data("request");$.ajax({url:"/auto_post/"+t+s,type:"get",data:"blog_id="+e+"&type="+t,beforeSend:function(){showLoading()},success:function(e){"success"==e.status&&(window.location.href=e.success_return_url),"failure"==e.status&&alertPostype(e.message)},complete:function(){hideLoading()}})}),$(".btn-auto-post-auth-cancel").on("click",function(){var e=$(this).data("blog-id"),t=$(this).data("type"),s=$(this).data("request");$.ajax({url:"/auto_post/"+s+"/"+t,type:"get",data:"blog_id="+e+"&type="+t,beforeSend:function(){showLoading()},success:function(e){"failure"==e.status&&alertPostype(e.message),window.location.reload()},complete:function(){hideLoading()}})}),$(".btn-facebook-page-select").on("click",function(){var e=$(this).data("page-id");$(this).data("auto-post-id");$.ajax({url:"/auto_post/selectFaceBookPage?",type:"get",dataType:"json",data:"pageId="+e,beforeSend:function(){showLoading()},success:function(e){"success"==e.status&&(window.location.href=e.success_return_url),"failure"==e.status&&alertPostype(e.message)},complete:function(){hideLoading()}})})});
$(function(){var i,t,a,n,e,s,o,r,c=$("#blog-membership-plan-form");0<c.length&&(i=$("#card-file-id-form"),t=$("#card-background-color-form"),(a=$("#mcard-customize").find("#mcard-palette")).find("a").on("click",function(){var e=$(this);a.find(".active").removeClass("active");$.trim(e.attr("class").replace("colorchip",""));return e.addClass("active"),t.val(e.attr("data-color")),!1}),n=$("#btn-delete-mcard-bg-img"),$("#mcard-bg-img").on("change",function(){var e=$(this),t=e.get(0);return 10485760<("Microsoft Internet Explorer"===navigator.appName?new ActiveXObject("Scripting.FileSystemObject").getFile(t.value).size:t.files[0].size)?(alertPostype("이미지는 10MB 이내로 등록 가능합니다."),void($("html").hasClass("ie")?e.replaceWith(e.clone()):e.val(""))):(c.ajaxSubmit({url:"/api/file/upload",dataType:"json",type:"post",success:function(e){"success"===e.status?(i.val(e.data.file_id),$(".mcard-image").css({backgroundImage:"url('"+e.data.thumbnail+"')"}).show(),n.show()):"failure"===e.status&&alertPostype(e.message)},complete:function(){$("html").hasClass("ie")?e.replaceWith(e.clone()):e.val("")}}),!1)}),n.on("click",function(){i.val(""),$(".mcard-image").removeAttr("style").hide(),n.hide()}),c.on("click","#btn-create-membership-plan",function(e){e.preventDefault();var t=c.find("input[name=title]"),i=t.val();if(""===$.trim(i))return alertPostype("제목을 입력하세요."),t.focus(),!1;var a=c.find("textarea[name=description]"),n=a.val();if(""===$.trim(n))return alertPostype("내용을 입력하세요."),a.focus(),!1;var s,o="<div class='mb-2'>아래의 내용대로 플랜을 생성합니다. 계속 진행하시겠습니까?</div>";return o+="<div class='alert alert-dark'>",o+="<h6>제목</h6><p class='text-light'>"+i+"</p><h6>소개</h6><p class='text-light'>"+(n=n.replace(/\n/g,"<br />"))+"</p>","sponsorship"===c.find("input[name=plan_type]:checked").val()&&(s=c.find("input[name=price]").val(),o+="<h6>가격</h6><p class='text-light'>"+(s=parseInt(s)).format()+"원</p>"),o+="</div>",confirmPostype(o,function(){c.submit()}),!1}),e=$("#join-application"),$("#join-sponsorship"),$("#join-invitation"),s=$("#auto-membership-confirm"),$("#join-application, #join-sponsorship, #join-invitation").on("click",function(){var e=$(this),t=e.closest(".card");t.parent().find(".card").removeClass("active"),t.addClass("active"),"application"!==e.val()&&s.prop("checked",!1)}),s.on("change",function(){$(this).prop("checked")&&e.click()}),o=$("#plan-title"),r=$("#mcard-plan-title"),o.on("keypress, keydown, keyup",function(){var e=o.val();r.text(e)}));var l=$("#membership-form");0<l.length&&l.find("select").on("change",function(){l.submit()}),$(".btn-invitation-card").on("click",function(){var e=$(this),t=e.attr("data-invitation-url"),i=e.attr("data-blog-membership-plan-id"),a=$("#membership-invitation");return a.find("#membserhip-invitation-url").val(t),a.find("#btn-reset-invitation-url").attr("data-blog-membership-plan-id",i),a.modal("show"),!1}),$("#btn-reset-invitation-url").on("click",function(){var e=$(this).attr("data-blog-membership-plan-id");confirmPostype("초대장 URL을 초기화하며 기존 초대장 URL은 더이상 유효하지 않게 됩니다. 계속 진행하시겠습니까?",function(){$.ajax({url:"/api/blog_membserhip_plan/reset_invitation_url",type:"post",dataType:"json",data:"blog_membership_plan_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})});var p=$("#application-message");$(".btn-membership-message").on("click",function(){var e=$(this),t=e.closest("tr"),i=t.find(".user-avatar-sm").attr("src"),a=t.find("h6.title").text(),n=t.find(".join-date time").text(),s=e.attr("data-blog-membership-id"),o=e.attr("data-message");p.find("img.user-avatar").attr("src",i),p.find("h6.title").text(a),p.find("time.text").text(n),p.find(".message").text(o),p.find("button.btn-membership-deny").attr("data-blog-membership-id",s),p.find("button.btn-membership-allow").attr("data-blog-membership-id",s),p.modal("show")}),$(".btn-membership-allow").on("click",function(){var e=$(this);e.loading(!0);var t=e.attr("data-blog-membership-id");$.ajax({url:"/api/blog_membership/allow",type:"post",dataType:"json",data:"blog_membership_id="+t,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)},complete:function(){e.loading(!1)}})}),$(".btn-membership-deny").on("click",function(){var e=$(this);e.loading(!0);var t=e.attr("data-blog-membership-id");$.ajax({url:"/api/blog_membership/deny",type:"post",dataType:"json",data:"blog_membership_id="+t,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)},complete:function(){e.loading(!1)}})}),$(".btn-membership-cancel").on("click",function(){var e=$(this).attr("data-blog-membership-id");confirmPostype("해당 멤버십 회원의 가입을 취소하겠습니까?",function(){$.ajax({url:"/api/blog_membership/cancel",type:"post",dataType:"json",data:"blog_membership_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-cancal-invitation").on("click",function(){$(this).parents(".media-profile").attr("data-blog-member-id");$.ajax({url:"/blog/"+blogName+"/admin/cancelInvitation",type:"post",dataType:"json",data:"blog_member_id="+blogMemberId,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})});var m=$("#membership-plan-children-modal"),d=$("#membership-plan-children"),h=$("#no-membership-plan-children");$("#btn-edit-membership-plan-children").on("click",function(){m.find(".active").removeClass("active"),m.find("input").prop("checked",!1),d.find(".membership-tr").each(function(e,t){var i=$(t).find(".price input");$("#membership-plan-child-"+i.val()).prop("checked",!0)}),m.modal("show")}),$("#btn-confirm-membership-plan-children").on("click",function(){var e=m.find(".custom-control-input:checked");d.empty();var r=0;e.each(function(e,t){var i=$(t),a=i.closest(".membership-tr").clone();a.find(".active").removeClass("active");var n=$("<input type= 'hidden' name='blog_membership_plan_children[]'>");n.val(i.val());var s=a.find(".custom-checkbox"),o=s.find(".title").text();s.remove(),a.find("td.title").text(o),a.find("td.price").append(n),d.append(a),r++}),0<r?(h.hide(),d.show()):(h.show(),d.hide()),m.modal("hide")}),$("#btn-activate-membership").on("click",function(e){var t=$(this),i=null,a="enable",n=t.attr("data-blog-id");t.is(":checked")||(a="disable"),i="enable"===a?"/api/blog_membership/enable":"/api/blog_membership/disable",$.ajax({url:i,type:"post",dataType:"json",data:"blog_id="+n,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):("enable"===a?t.prop("checked",!1):t.prop("checked",!0),alertPostype(e.message))}})});var u=$("#children-wrapper"),b=$("#sponsorship-option"),f=$("#application-option");function v(){"sponsorship"===$("input[name=plan_type]:checked").val()?(u.show(),b.show(),f.hide()):(u.hide(),b.hide(),f.show())}v(),$("input[name=plan_type]").on("change",function(){v()})});
var postypeUrl,cdnUrl="https://d33pksfia2a94m.cloudfront.net";function toast(t){$.toast({text:t,position:"top-center",bgColor:"#020202",loaderBg:"#3478ff",hideAfter:1500})}function clearPhotoset(){$(".photoset").each(function(t,a){var e,n=$(a),o=n.find(".photo").length;0===o?n.remove():((e=n.find(".photoset-inner")).removeClass("photo-1"),e.removeClass("photo-2"),e.removeClass("photo-3"),e.addClass("photo-"+o))})}function resizePhotoset(){$(".photoset").each(function(t,a){var e,n,o=$(a),s=0,i=0,r=4,l=o.find(".photoset-inner").find(".photo"),d=null;o.find("figcaption").remove(),o.removeClass("has-figcaption");var c="";if(1===l.length)d=l,e=parseInt(d.attr("data-width")),n=parseInt(d.attr("data-height")),e<(s=o.width())&&(o.hasClass("individual")||o.hasClass("seamless"))?d.css({width:e,height:n,marginLeft:parseInt((s-e)/2)}):(i=parseInt(s*n/e),d.css({width:s,height:i})),void 0===d.attr("data-caption")||""===d.attr("data-caption")?d.removeClass("has-caption"):(d.addClass("has-caption"),o.addClass("has-figcaption"),c="<figcaption>"+d.attr("data-caption")+"</figcaption>"),o.append(c);else if(1<l.length){var p=0;c+="<figcaption>",l.each(function(t,a){void 0===(d=$(a)).attr("data-caption")||""===d.attr("data-caption")?d.removeClass("has-caption"):(d.addClass("has-caption"),p++,d.attr("data-caption-number",p),c+="<span class='photoset-caption'><span class='photoset-caption-number'>"+p+"</span>"+d.attr("data-caption")+"</span>")}),c+="</figcaption>",0<p&&o.append(c);var f=l.length,u=1;if(o.hasClass("column-2")?u=2:o.hasClass("column-3")&&(u=3),o.hasClass("individual")&&(u=1),o.hasClass("seamless")&&(u=1,r=0),f<u&&(u=f),o.hasClass("slideshow")){var m=o.find(".photoset-inner");0===o.find(".slideshow-helper").length&&o.prepend("<div class='slideshow-helper'><div class='indicator'></div><div class='helper-text'>확대해 보려면 이미지를 누르세요.</div></div>");var h=m.find("img").length,v=o.find(".indicator");m.on("init reInit afterChange",function(t,a,e,n){var o=(e||0)/u,o=parseInt(o)+1;v.text(o+"/"+Math.ceil(h/u))});try{m.slick({lazyLoad:"ondemand",infinite:!1,nextArrow:'<button type="button" role="presentation" class="btn-next"><i class="far fa-chevron-right"></i></button>',prevArrow:'<button type="button" role="presentation" class="btn-prev"><i class="far fa-chevron-left"></i></button>',slidesToShow:u,slidesToScroll:u})}catch(t){}}else for(var g=0;;){var y=0,b=f%u,w=0<b&&g<b?b:u;if(0===(s=2===w?o.width()-r:3===w?o.width()-2*r:o.width())){g+=w;break}if(o.hasClass("tile-square"))for(k=0;k<w;k++)(d=$(l.get(g))).css({width:parseInt(s/w),height:parseInt(s/w)}),k!==w-1&&d.css({marginRight:r+"px"}),g<f-u&&d.css({marginBottom:r+"px"}),g++;else if(1===u)(d=$(l.get(g))).removeAttr("style"),(e=d.attr("data-width"))<s&&(o.hasClass("individual")||o.hasClass("seamless"))?d.css({width:e,height:"auto",marginLeft:parseInt((s-e)/2)}):d.css({width:s,height:"auto"}),g<f-u&&d.css({marginBottom:r+"px"}),g++;else{for(k=0;k<w;k++)d=$(l.get(g+k)),y+=1e4*(e=parseInt(d.attr("data-width")))/(n=parseInt(d.attr("data-height")));i=parseInt(1e4/(y/s));for(var C=s,k=0;k<w;k++){d=$(l.get(g)),e=parseInt(d.attr("data-width")),n=parseInt(d.attr("data-height")),k!==w-1&&d.css({marginRight:r+"px"}),g<f-u&&d.css({marginBottom:r+"px"});var x=parseInt(e*i/n);k===w-1&&2<=w?d.css({width:C,height:i}):(C-=x,d.css({width:x,height:i})),g++}}if(f<=g)break}}})}function resizeIframe(){$(".embed-video iframe, .place iframe").each(function(t,a){var e,n,o,s,i,r=$(a),l=r.parents(".element-editor-container");0===l.length&&(l=r.parents("figure")),i=l.hasClass("embed")?(e=r.parent(),n=parseInt(e.attr("data-width")),o=parseInt(e.attr("data-height")),s=e.parent().width(),parseInt(s*o/n)):l.hasClass("place")?(s=r.parent().width(),Math.ceil(s/2)):(s=r.parent().width(),r.parent().height()),r.width(s).height(i)})}function setAudioComponents(){$(".post-content .audio").each(function(t,a){setAudioComponent($(a))})}function setAudioComponent(n){var o=audiojs.create(n.find("audio").get(0),{createPlayer:{markup:'            <div class="audio-component">                 <div class="audio-body">                   <div class="audio-cover">                     <span><i class="fas fa-music"></i></span>                  </div>                  <div class="audio-title-btn">                      <div class="audio-playing-title">                        <span>title title title title title title title title title</span>                      </div>                      <div class="audio-btn">                          <div class="step-backward">                             <p class="step-btn"><span class="fas fa-backward"></span></p>                           </div>                           <div class="play-pause">                             <p class="play"><span class="fas fa-play"></span></p>                             <p class="pause"><span class="fas fa-pause"></span></p>                             <p class="loading"><span class="fas fa-spinner fa-spin"></span></p>                             <p class="error"><span class="fas fa-exclamation-triangle"></span></p>                           </div>                           <div class="step-forward">                             <p class="step-btn"><span class="fas fa-forward"></span></p>                           </div>                           <div class="audio-playlist">                             <p class="open-playlist active"><span class="fal fa-bars"></span><span class="fal fa-chevron-up"></span></p>                           </div>                       </div>                   </div>                 </div>                 <div class="audio-timeline">                <div class="time">                     <em class="played">00:00</em>                  </div>                   <div class="scrubber">                     <div class="progress"></div>                     <div class="loaded"></div>                   </div>                   <div class="time">                     <strong class="duration">00:00</strong>                   </div>                 </div>             </div>           <div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading1",errorClass:"error"},css:!1,trackEnded:function(){var t=n.find("ol li.playing").next();t.length||(t=n.find("ol li").first()),t.addClass("playing").siblings().removeClass("playing");var a=$("a",this).first(),e=a.attr("data-src");n.find(".audio-playing-title").text(a.text()),o.load(e),o.play()}}),a=n.closest(".audio");a.height(a.height()),n.find(".audiojs").height(n.find(".audiojs").height());var t=n.find(".audio-list-cover img");0<t.length&&(n.find(".audio-cover").html(t),n.find(".audio-playing-title"));var e=n.find("ol a").first(),s=e.attr("data-src");n.find("ol li").first().addClass("playing"),n.find(".audio-playing-title").text(e.text()),o.load(s),n.find("ol li").click(function(t){$(this).addClass("playing").siblings().removeClass("playing");var a=$("a",this).first(),e=a.attr("data-src");return n.find(".audio-playing-title").text(a.text()),o.load(e),o.play(),!1}),n.find(".step-forward").on("click",function(){var t=n.find("ol li.playing").next();t.length||(t=n.find("ol li").first()),t.addClass("playing").siblings().removeClass("playing");var a=$("a",t).first(),e=a.attr("data-src");return n.find(".audio-playing-title").text(a.text()),o.load(e),o.play(),!1}),n.find(".step-backward").on("click",function(){var t=n.find("ol li.playing").prev();t.length||(t=n.find("ol li").last()),t.addClass("playing").siblings().removeClass("playing");var a=$("a",t).first(),e=a.attr("data-src");return n.find(".audio-playing-title").text(a.text()),o.load(e),o.play(),!1}),n.find(".open-playlist").on("click",function(){var t=$(this);return t.hasClass("active")?n.find("ol").hide():n.find("ol").show(),t.toggleClass("active"),a.removeAttr("style"),a.height(a.height()),n.find(".audiojs").height(n.find(".audiojs").height()),!1})}function closeConfirmPostype(){$("#modal-confirm").modal("hide")}function closeAlertPostype(){$("#modal-alert").modal("hide")}function confirmPostype(t,a,e){var n=$("#modal-confirm"),o=$("#modal-confirm-yes"),s=$("#modal-confirm-no"),i=$("#modal-confirm-message");n.modal({show:!0}),o.off("click"),o.on("click",function(){"function"==typeof a&&setTimeout(function(){a()},170)}),s.off("click"),s.on("click",function(){"function"==typeof e&&setTimeout(function(){e()},170)}),i.html(t)}function alertPostype(t,a){var e=$("#modal-alert"),n=$("#modal-alert-confirm"),o=$("#modal-alert-message");e.modal({show:!0}),n.off("click"),n.on("click",function(){"function"==typeof a&&setTimeout(function(){a()},170)}),setTimeout(function(){n.focus()},500),o.html(t)}function showLoading(){$(".loading").show()}function hideLoading(){$(".loading").hide()}function diffTime(t){var a,e=((new Date).getTime()-1e3*t)/1e3;if(e<0&&(e=0),a=Math.floor(e/86400),!(isNaN(a)||a<0))return 0===a&&((e<60?"방금 전":e<120&&"1분 전")||e<3600&&Math.floor(e/60)+"분 전"||e<7200&&"1시간 전"||e<86400&&Math.floor(e/3600)+"시간 전")||1===a&&"어제"||a<7&&a+"일 전"||a<31&&Math.floor(a/7)+"주 전"||a<360&&Math.floor(a/30)+"개월 전"||360<=a&&(0===Math.floor(a/360)?1:Math.floor(a/360))+"년 전"}function nl2br(t){var a=document.createElement("div"),e=document.createTextNode(t);return a.appendChild(e),(t=a.innerHTML).replace(/\n/g,"<br />")}function nl2brHtml(t){return t.replace(/\n/g,"<br />")}function parseQueryString(){var t=window.location.search,o={};return t.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(t,a,e,n){o[a]=n}),o}function stripGALinkerParm(){var t=window.location.search,a=window.location.pathname;"?"!=(t=t.replace(/_ga=[^&]*&?/,""))&&(a+=t),history.replaceState({},"",a+window.location.hash)}$(function(){var r=$("body");postypeUrl=r.attr("data-postype-url"),$('[data-toggle="tooltip"]').tooltip();var t=$('[data-toggle="popover"]');t.popover({container:"body",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-title"></h3><div class="popover-content-wrapper"><img src="" /><p class="popover-content"></p></div></div>'}),t.on("click",function(){return!1}),t.on("shown.bs.popover",function(){var t=$(this),a=t.attr("aria-describedby"),e=$("#"+a);0<e.length&&(e.find(".popover-content-wrapper").find("img").attr("src",t.attr("data-image")),e.find(".popover-content").html(t.attr("data-content")))}),r.find(".main-content").on("touchstart",function(t){if(r.hasClass("user-menu-show"))return t.preventDefault(),!1}),$("#messages-toggle").on("click",function(t){t.preventDefault(),r.toggleClass("messages-show");var a=r.find(">.backdrop");return 0<a.length?a.remove():r.append("<div class='backdrop fade'></div>"),!1}),$("#messages-close").on("click",function(t){return t.preventDefault(),r.removeClass("messages-show"),r.find(">.backdrop").remove(),!1}),$("#notification-toggle").on("click",function(t){t.preventDefault(),r.toggleClass("notification-show");var a=r.find(">.backdrop");return 0<a.length?a.remove():r.append("<div class='backdrop fade'></div>"),!1}),$("#notifications-close").on("click",function(t){return t.preventDefault(),r.removeClass("notification-show"),r.find(">.backdrop").remove(),!1});var a=$("#btn-read-all, #btn-read-all-dropdown");0<a.length&&a.on("click",function(t){t.preventDefault();var a=!1;"btn-read-all"===$(this).attr("id")&&(a=!0),confirmPostype("알림을 모두 읽으시겠습니까?",function(){return $.ajax({url:"/api/notification/check",type:"post",dataType:"json",success:function(t){"success"===t.status&&(a?window.history.go(0):($("#notifications").find(".noti-item").addClass("read").removeClass("unread"),$(".main-content .noti-item").addClass("read").removeClass("unread"),$(".notification-toggle").find(".notification-badge").remove()))}}),!1},function(){return!1})}),$("#notifications").on("click",'.noti-item a[href][href!="#"]',function(t){t.preventDefault();var a=$('<form method="post"></form>').attr("action",postypeUrl+"/notifications");$('<input type="hidden" name="url">').attr("value",$(this).attr("href")).appendTo(a),0==$('iframe[name="noti-navi-iframe"]',"body").length&&$('<iframe name="noti-navi-iframe" sandbox="allow-same-origin allow-top-navigation allow-scripts"></iframe>').css({position:"absolute",top:"-1000px",left:"-1000px"}).appendTo("body"),a.appendTo("body").ajaxSubmit({iframe:!0,iframeTarget:'iframe[name="noti-navi-iframe"]',complete:function(){a.remove()}})}),$("#user-menu-toggle").on("click",function(t){t.preventDefault(),r.toggleClass("user-menu-show");var a=r.find(">.backdrop");return 0<a.length?a.remove():r.append("<div class='backdrop fade'></div>"),!1});var o=$("#drafts");function e(t){var a=o.find(".drafts-blog-title"),n=o.find(".draft-list");n.empty(),$.ajax({url:postypeUrl+"/api/post/drafts",type:"get",dataType:"jsonp",data:"blog_id="+t,success:function(t){var e;"success"===t.status&&(e=0,$(t.data.items).each(function(t,a){n.append(a),e++}),a.attr("href",t.data.drafts_url),a.find("img").attr("src",t.data.avatar).attr("alt",t.data.title),o.find(".btn-primary").attr("href",t.data.new_post_url),0===e&&n.append("<div style='padding:20px;color:#aaa;' class='text-center'>포스트가 없습니다.</div>"))}})}$(".btn-create-post").on("click",function(t){if(!(0<location.href.indexOf("/admin/drafts"))){e($(this).attr("data-blog-id")),t.preventDefault(),r.toggleClass("drafts-show");var a=r.find(">.backdrop");return 0<a.length?a.remove():r.append("<div class='backdrop fade'></div>"),!1}}),$("#user-menu").find(".create-post").on("click",function(t){return e($(this).attr("data-blog-id")),t.preventDefault(),r.removeClass("user-menu-show").addClass("drafts-show"),!1}),r.on("click",".backdrop",function(t){return r.removeClass("user-menu-show"),r.removeClass("notification-show"),r.removeClass("messages-show"),r.removeClass("episodes-show"),r.removeClass("drafts-show"),$(this).remove(),t.preventDefault(),!1}),$(".modal").on("hidden.bs.modal",function(t){0<$(".modal.show").length&&$("body").addClass("modal-open")});var n,s=$("#auth-tabs");$(document).on("click","#btn-tab-signup",function(){return s.addClass("signup"),!1}),$(document).on("click","#btn-tab-login",function(){return s.removeClass("signup"),!1}),$(document).on("click",".btn-share",function(){var t=$("#share"),a=t.find("input[name=link_url]"),e=a.val();return $(this).attr("data-share-url")&&(e=$(this).attr("data-share-url")),""===e&&(e=location.href),t.find("a").attr("href",e),a.val(e),t.modal("show"),!1}),$(document).on("click",".btn-share-twitter",function(){var t=$(this).attr("href"),a=$(document).find("title").text(),e=void 0!==(e=$("html > head > meta[name=keywords]").attr("content"))&&e?((e=e.split(" ")).push("postype"),e.join(",")):"";return window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(a)+"&hashtags="+encodeURIComponent(e),"pop","width=600,height=400"),!1}),$(document).on("click",".btn-share-facebook",function(){var t=$(this).attr("href"),a=$(document).find("title").text(),e=$("html > head > meta[name=keywords]").attr("content");if(void 0!==(e+=" postype")&&e){var n=e.split(" ");if(0<n.length){e="";for(var o=0;o<n.length;o++){var s=n[o];if(s){e+="#"+s;break}}}else e="#postype"}else e="#postype";var i="https://www.facebook.com/dialog/share?app_id=593748227307388&display=popup&href="+encodeURIComponent(t)+"&quote="+encodeURIComponent(a);return""!==e&&(i=i+"&hashtag="+encodeURIComponent(e)),window.open(i,"pop","width=600,height=400"),!1}),$(document).on("click",".btn-share-simple-twitter",function(){var t=$(this).attr("href");return window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(t),"pop","width=600,height=400"),!1}),$(document).on("click",".btn-share-simple-facebook",function(){var t=$(this).attr("href"),a="https://www.facebook.com/dialog/share?app_id=593748227307388&display=popup&href="+encodeURIComponent(t);return window.open(a,"pop","width=600,height=400"),!1}),$("form").each(function(t,a){var e=$(a),n=e.attr("action");null!=n&&""!=n||(n=location.href,e.attr("action",n))}),autosize($("textarea.autosize")),r.hasClass("disable-selection")&&((n=$(document)).on("contextmenu",function(t){if("TEXTAREA"!==t.target.tagName)return!1}),n.on("selectstart",function(t){if("TEXTAREA"!==t.target.tagName)return!1}),n.on("dragstart",function(t){if("TEXTAREA"!==t.target.tagName)return!1}));var l=$("#modal-user"),d=l.find("#modal-user-blog-container"),c=l.find("#modal-user-blog-list"),p=l.find(".modal-user-item").clone(),f=l.find("#modal-user-blog-none");r.on("click","a[data-user-modal]",function(){var t=$(this),a=t.attr("data-user-profile-id");if(0===(a=parseInt(a)))return alertPostype("해당 작가는 블로그 팀 멤버에서 탈퇴하여 프로필을 열람할 수 없습니다."),!1;var e,n=t.attr("data-image"),o=t.attr("data-title"),s=t.attr("data-content"),i=t.attr("data-user-blog-id");return l.find("#modal-user-avatar").attr("src",n),l.find("#modal-user-nickname").html(o),l.find("#modal-user-bio").html(s),l.find(".btn-send-message").attr("data-user-profile-id",a),l.find(".btn-send-admin-notification").attr("href",postypeUrl+"/admin/admin_notification/send/"+a),c.empty(),d.hide(),$.ajax({url:$("body").attr("data-postype-url")+"/userProfile/popup?blog_id="+i+"&user_profile_id="+a,type:"get",dataType:"jsonp",success:function(t){$(t.data.items).each(function(t,a){var e=p.clone();e.find(".modal-user-blog-image").attr("src",a.thumbnail),e.find(".modal-user-blog-title").html(a.title),e.find(".modal-user-blog-description").html(a.description),e.attr("href",a.url),c.append(e)}),0<t.data.total_items?(c.show(),f.hide()):(c.hide(),f.show()),d.show()}}),r.hasClass("notification-show")&&(r.removeClass("user-menu-show"),r.removeClass("notification-show"),0<(e=r.find(">.backdrop")).length&&e.remove()),l.modal("show"),!1});var i=$("#collection-item-modal");0<i.length&&($(".btn-collection-item").on("click",function(){var t=$(this).attr("data-post-id");return i.find("[name=post_id]").val(t),i.modal("show"),!1}),$("#btn-create-collection-item").on("click",function(){return $.ajax({url:postypeUrl+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(t){var a;"success"===t.status&&(a=t.data.key,i.find("input[name=session_key]").val(a),i.ajaxSubmit({type:"POST",dataType:"json",success:function(t){"success"===t.status?alertPostype(t.message,function(){i.modal("hide")}):alertPostype(t.message)},error:function(t,a,e){},complete:function(){}}))}}),!1}));var u,m,h=$("#recommend-modal");0<h.length&&(u=$("#btn-recommend-post"),m=h.find("#recommend-to"),h.on("show.bs.modal",function(t){var a=$(t.relatedTarget),e=a.attr("data-title"),n=a.attr("data-url"),o=a.attr("data-post-id");h.find("[name=title]").val(e),h.find("[name=url]").val(n),h.find("[name=post_id]").val(o),$.ajax({url:postypeUrl+"/api/collection/all",dataType:"jsonp",type:"GET",success:function(t){if("success"===t.status)try{t.data.collections.items.forEach(function(t){$("<option>"+t.title+"</option>").attr("value",t.title).appendTo(m)}),m.prop("selectedIndex",0)}catch(t){}else alertPostype(t.message)}})}),h.on("submit",function(){return u.loading(!0),$.ajax({url:postypeUrl+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(t){var a;"success"===t.status&&(a=t.data.key,h.find("input[name=session_key]").val(a),h.ajaxSubmit({type:"POST",dataType:"json",success:function(t){"success"===t.status?alertPostype(t.message,function(){h.modal("hide"),h.find("textarea").val("")}):"no-permission"===t.status?confirmPostype(t.message,function(){location.href=$("body").attr("data-postype-url")+"/login"},function(){}):"no-activation"===t.status?confirmPostype(t.message,function(){location.href=t.failure_return_url},function(){}):alertPostype(t.message)},error:function(t,a,e){},complete:function(){u.loading(!1)}}))}}),!1}));var v,g=$("#report-modal");0<g.length&&(v=$("#btn-report-post"),g.on("show.bs.modal",function(t){var a=$(t.relatedTarget).attr("data-post-id");g.find("[name=post_id]").val(a)}),g.on("submit",function(){return v.loading(!0),$.ajax({url:postypeUrl+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(t){var a;"success"===t.status&&(a=t.data.key,g.find("input[name=session_key]").val(a),g.ajaxSubmit({type:"POST",dataType:"json",success:function(t){"success"===t.status?alertPostype(t.message,function(){g.modal("hide"),g.find("textarea").val("")}):"no-permission"===t.status?confirmPostype(t.message,function(){location.href=$("body").attr("data-postype-url")+"/login"},function(){}):"no-activation"===t.status?confirmPostype(t.message,function(){location.href=t.failure_return_url},function(){}):alertPostype(t.message)},error:function(t,a,e){},complete:function(){v.loading(!1)}}))}}),!1}));var y,b=$("#admin-modal");0<b.length&&($(".btn-gavel-post").on("click",function(){var t=$(this).attr("data-post-id");return b.modal("show"),b.find("[name=post_id]").val(t),!1}),y=$("#btn-gavel"),b.on("submit",function(){y.loading(!0);var t=b.find("[name=post_id]").val(),a=b.find("#gavel-number").val(),e=b.find("#gavel-reason").val(),n=b.find("#gavel-memo").val();return $.ajax({url:postypeUrl+"/api/report_result",type:"get",dataType:"jsonp",data:"post_id="+t+"&gavel="+a+"&reason="+e+"&memo="+encodeURIComponent(n),success:function(t){"success"===t.status?alertPostype(t.message,function(){window.history.go(0)}):alertPostype(t.message)},complete:function(){y.loading(!1)}}),!1}));$(document).on("click",".btn-comment-delete",function(t){t.preventDefault();var n=$(this).attr("data-comment-id");return void 0!==n&&n&&confirmPostype("삭제하시겠습니까?",function(){closeConfirmPostype(),setTimeout(function(){$.ajax({url:postypeUrl+"/api/comment/"+n,type:"get",dataType:"jsonp",success:function(e){"success"===e.status?0===e.data.user_id?alertPostype(e.message,function(){var t=$("#comment-"+n);0<t.length?t.remove():window.history.go(0)}):confirmPostype(e.message,function(){var t=e.data.user_profile_id,a=e.data.blog_id;$.ajax({url:postypeUrl+"/api/blog/"+a+"/block/"+t,type:"get",dataType:"jsonp",success:function(t){t.status,alertPostype(t.message,function(){$("#comment-"+n).remove()})}})},function(){$("#comment-"+n).remove()}):alertPostype(e.message)},complete:function(){}})},500)}),!1});var w=new ClipboardJS(".btn-clipboard");$(".btn-clipboard").on("click",function(t){t.preventDefault()}),w.on("success",function(t){toast("URL을 복사했습니다."),t.clearSelection()});var C=$("#notify-modal");0<C.length&&(C.modal("show"),C.on("submit",function(){var t=0;return C.find("#allow-ad-message").is(":checked")&&(t=1),$.ajax({url:postypeUrl+"/api/user/notify",type:"get",dataType:"jsonp",data:"allow_ad_message="+t,success:function(t){t.status,alertPostype(t.message),C.modal("hide")},complete:function(){}}),!1})),stripGALinkerParm(),$(document).on("click",".btn-webpush-noti-close",function(t){return t.preventDefault(),$(this).closest(".webpush-noti").hide(),!1}),$('[autocomplete="off"]').attr("autocomplete","nope")});
$(function(){var o=$("body"),t=o.attr("data-blog-id"),a=$("#header"),e=$("#app-menu-toggler"),s=$("#app-menu"),n=$("#app-menu-backdrop");e.on("click",function(){s.toggle(),n.toggle()}),n.on("click",function(){s.hide(),n.hide()});var i,r,d,l,c,p,m,u,f,g,h,y,v,b,k,_,w,C,x,j,T,P,U,S,I,O,z=$("body[data-post-id]"),A=$("#post-content"),R=window.location.hostname,N="visit."+t,D=new Date;function E(i){var a=i.find("button.btn-primary");a.loading(!0),$.ajax({url:postypeUrl+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(e){var t;"success"===e.status&&(t=e.data.key,i.find("input[name=session_key]").val(t),i.modal("hide"),i.ajaxSubmit({url:"/api/post/support",type:"post",dataType:"json",success:function(e){var t,a,o,s,n;"success"===e.status?(t=e.data.type,a=e.data.point,o=e.data.post_id,"function"==typeof fbq&&fbq("trackCustom","support"===t?"SupportAuthor":"PurchasePost",{value:a,currency:"KRW",contents:[{id:o.format(),quantity:1}],content_type:"post"}),"function"==typeof kakaoPixel&&(s="support"===t?"SUPPORT_AUTHOR":"PURCHASE_POST",kakaoPixel("4969140283302627999").purchase({tag:s,total_price:a.format(),currency:"KRW",products:[{name:o.format(),quantity:"1",price:a.format()}]})),"undefined"!=typeof dataLayer&&(n="support"===t?"SUPPORT_AUTHOR":"PURCHASE_POST",dataLayer.push({user_agent:navigator.userAgent,event:n,amount:a,post_id:o})),alertPostype(e.message,function(){location.reload()})):"no-permission"===e.status?confirmPostype(e.message,function(){location.href=postypeUrl+"/login"}):alertPostype(e.message,function(){i.modal("show")})},error:function(e,t,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){a.loading(!1)}}))}})}D.setHours(23,59,59,999),0<z.length||0<A.length?(i=z.attr("data-post-id"),0<(r=$("figure.code")).length&&r.each(function(e,t){var a=$(t),o=a.find("textarea"),s=a.find("pre").attr("data-type");CodeMirror.fromTextArea(o.get(0),{lineNumbers:!0,lineWrapping:!0,indentUnit:4,tabSize:4,mode:s,readOnly:!0,theme:"monokai"})}),d="view."+t+"."+i,l="visit",setTimeout(function(){var e;Cookies.get(d)||(e="",Cookies.get(N)?l="":e=document.referrer,void 0===e&&(e=""),$.ajax({url:postypeUrl+"/api/post/view",type:"get",dataType:"jsonp",data:"blog_id="+t+"&post_id="+i+"&mode="+l+"&referrer="+encodeURIComponent(e),success:function(e){var t,a;"success"===e.status&&(o.attr("data-read-stats","1"),Cookies.set(d,!0,{expires:D,path:"/",domain:R}),"visit"===l&&Cookies.set(N,!0,{expires:D,path:"/",domain:R}),a=(a=(t=o.find(".view-count .number")).text()).replace(",",""),a=/^(\-|\+)?([0-9]+|Infinity)$/.test(a)?Number(a):NaN,isNaN(a)||(a++,t.text(a.format())))}}))},2e3),c=!1,p="read."+t+"."+i,$(window).scroll(function(){"1"===o.attr("data-read-stats")&&$(window).scrollTop()>.7*$(document).height()&&(Cookies.get(p)||(Cookies.set(p,!0,{expires:1,path:"/",domain:R}),!1===c&&(c=!0,$.ajax({url:postypeUrl+"/api/post/read",type:"get",dataType:"jsonp",data:"blog_id="+t+"&post_id="+i,success:function(e){e.status}}))))}),m=$("#btn-like-user"),u=$("#like-user"),f=$("#like-user-list"),g=$("#btn-more-like-user"),h=1,m.on("click",function(){f.empty(),u.modal("show"),h=1,$.ajax({url:postypeUrl+"/api/like/users/"+i,type:"get",dataType:"jsonp",data:"&page="+h,success:function(e){"success"===e.status&&($(e.data.items).each(function(e,t){f.append(t)}),e.data.page<e.data.total_pages?(g.show(),g.attr("data-page",parseInt(e.data.page)+1)):g.hide())}})}),g.on("click",function(){h=g.attr("data-page"),g.attr("disabled","disabled"),g.text("로딩중"),$.ajax({url:postypeUrl+"/api/like/users/"+i,type:"get",dataType:"jsonp",data:"&page="+h,success:function(e){"success"===e.status&&($(e.data.items).each(function(e,t){f.append(t)}),e.data.page<e.data.total_pages?(g.show(),g.attr("data-page",parseInt(e.data.page)+1)):g.hide(),g.removeAttr("disabled"),g.text("더 보기"))}})}),y=$("#comment-list"),v=1,b=$("#btn-more-comment"),0<y.length&&(k=0,location.hash&&(k=location.hash.replace("#comment-","")),$.ajax({url:postypeUrl+"/api/comment/list",type:"get",dataType:"jsonp",data:"post_id="+i+"&page="+v+"&comment_id="+k,success:function(e){"success"===e.status&&($(e.data.items).each(function(e,t){y.prepend(t)}),e.data.page<e.data.total_pages?(b.show(),b.attr("data-page",parseInt(e.data.page)+1)):b.hide(),location.hash&&setTimeout(function(){var e=$(location.hash).offset().top-a.height();$(window).scrollTop(e)},100))}})),b.on("click",function(){b.attr("disabled","disabled"),b.text("로딩중"),v=b.attr("data-page"),$.ajax({url:postypeUrl+"/api/comment/list",type:"get",dataType:"jsonp",data:"post_id="+i+"&page="+v,success:function(e){"success"===e.status&&(y.find(".is-notice").remove(),$(e.data.items).each(function(e,t){y.prepend(t)}),e.data.page<e.data.total_pages?(b.show(),b.attr("data-page",parseInt(e.data.page)+1)):b.hide(),b.removeAttr("disabled"),b.text("이전 댓글 보기"))}})}),y.on("click",".btn-open-replies",function(){var t=$(this),o=t.closest(".comment-item"),e=t.attr("data-comment-id");$.ajax({url:postypeUrl+"/api/comment/replies",type:"get",dataType:"jsonp",data:"comment_id="+e,success:function(e){var a;"success"===e.status&&(a=$("<div>"),$(e.data.items).each(function(e,t){a.append(t)}),o.after(a.html()),t.hide())}})}),clearPhotoset(),resizePhotoset(),resizeIframe(),_=$(window).width(),$(window).resize(function(){var e=$(window).width();_!==e&&(resizePhotoset(),resizeIframe(),_=e)}),setAudioComponents(),A.addClass("visible"),A.find("a").each(function(e,t){var a=$(t);a.hasClass("btn")||void 0===a.attr("target")&&a.attr("target","_blank")}),0<(w=$("#secret-form")).length&&w.on("submit",function(){var e=w.find("input[name=password]").val();return $.ajax({url:postypeUrl+"/post/secret",type:"get",dataType:"jsonp",data:"post_id="+i+"&password="+encodeURIComponent(e),success:function(e){"success"===e.status?location.reload():"no-permission"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):alertPostype(e.message)}}),!1}),C=$("#comment-form"),x=$("#comment-reply-form"),j=$("#comment-edit-form"),0<C.length&&($('#general-comment[value="general"]').click(function(){$("#comments .secret-comment-form").css("display","block"),$("#comments #supporter-options").css("display","none"),$("#comments .image-uploader").css("display","none")}),$('#general-comment[value="membership"]').click(function(){$("#comments .secret-comment-form").css("display","block"),$("#comments #supporter-options").css("display","none"),$("#comments .image-uploader").css("display","block")}),$("#support-comment").click(function(){$("#comments .secret-comment-form").css("display","none"),$("#comments #supporter-options").css("display","block"),$("#comments .image-uploader").css("display","block")}),$("#notice-comment").click(function(){$("#comments .secret-comment-form").css("display","none"),$("#comments #supporter-options").css("display","none")}),$("#modal-general-comment").click(function(){j.find(".secret-comment-form").show(),j.find("#supporter-options").hide(),$(".modal .custom-checkbox").css("visibility","visible"),$(".modal .image-uploader").css("display","none"),$(".modal .info-message").css("display","none")}),$("#modal-notice-comment").click(function(){j.find(".secret-comment-form").hide(),j.find("#supporter-options").hide()}),$("#support-comment").prop("checked")&&($("#comments .secret-comment-form").css("display","none"),$("#comments #supporter-options").css("display","block")),$("#responses").on("click",".btn-comment-like",function(e){e.preventDefault(),0;var t=$(this),a=t.attr("data-comment-id"),o=t.find(".count, .like-count"),s=0;return 0<o.length?(s=parseInt($.trim(o.text())),isNaN(s)&&(s=0)):(o=$("<span class='like-count count'></span>"),t.append(o)),t.hasClass("active")?(t.removeClass("active"),s--):(s++,t.addClass("active")),0<o.length&&(t.find(".count, .like-count").text(s),0===s?o.hide():o.show()),$.ajax({url:postypeUrl+"/api/comment_like",type:"get",dataType:"jsonp",data:"comment_id="+a,success:function(e){"success"!==e.status&&("no-permission"===e.status?0<$("#easy-login").length?$("#easy-login").modal("show"):confirmPostype(e.message,function(){location.href=postypeUrl+"/login"}):alertPostype(e.message),t.removeClass("active"),s--,t.find(".count, .like-count").text(s),0===s&&o.hide())},complete:function(){}}),!1}),C.off("submit"),C.submit(function(){var a=C.find("button.btn-submit");return a.loading(!0),$.ajax({url:postypeUrl+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(e){var t;"success"===e.status&&(t=e.data.key,C.find("input[name=session_key]").val(t),C.ajaxSubmit({type:"POST",dataType:"json",success:function(e){"success"===e.status?location.reload():"no-activation"===e.status||"no-permission"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):alertPostype(e.message)},error:function(e,t,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){a.loading(!1)}}))}}),!1}),x.off("submit"),x.submit(function(){var a=x.find("button.btn-primary");return a.loading(!0),$.ajax({url:postypeUrl+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(e){var t;"success"===e.status&&(t=e.data.key,x.find("input[name=session_key]").val(t),x.ajaxSubmit({type:"POST",dataType:"json",success:function(e){if("success"===e.status){x.modal("hide");var t=$("#comment-"+e.data.comment.sort1);if(0<t.length)for(;;){var a=t.next();if(0===a.length){t.after(e.data.html);break}if(!a.hasClass("reply")){t.after(e.data.html);break}t=a}}else"no-activation"===e.status||"no-permission"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):alertPostype(e.message)},error:function(e,t,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){a.loading(!1)}}))}}),!1}),j.off("submit"),j.submit(function(){var a=j.find("button.btn-primary");return a.loading(!0),$.ajax({url:postypeUrl+"/connector/getSessionKey",dataType:"jsonp",type:"GET",success:function(e){var t;"success"===e.status&&(t=e.data.key,j.find("input[name=session_key]").val(t),j.ajaxSubmit({type:"POST",dataType:"json",success:function(e){"success"===e.status?location.reload():"no-activation"===e.status||"no-permission"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):alertPostype(e.message)},error:function(e,t,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){a.loading(!1)}}))}}),!1}),$(document).on("click",".btn-comment-reply",function(){var e=$(this).parents(".item"),t=e.attr("data-sort1"),a=e.find(".comment-header"),o=e.find(".comment-content").find("p"),s=$.trim(o.text());x.find(".comment-header .author").text(a.find(".author").text()),x.find(".comment-header img").attr("src",e.find("img.user-avatar").attr("src")),x.find(".parent-comment").html(nl2br(s)),x.find("[name=parent_id]").val(t);var n=$("#reply-form-image");e.hasClass("use-image")?(n.show(),x.find(".image-before").show(),x.find("input[name=file_id]").val(""),x.find("input[type=file]").val(""),x.find(".image-after").hide(),x.find(".image-uploading").hide()):n.hide(),x.find("textarea").val(""),x.modal("show")}),T=$("#comment-edit-secret"),$(document).on("click",".btn-comment-edit",function(e){e.preventDefault();var t=$(this).parents(".item"),a=!1,o=!1,s=!1;t.hasClass("is-notice")&&(a=!0),t.hasClass("use-image")&&(s=!0),t.hasClass("reply")&&(o=!0);var n=$("#comment-option-wrapper"),i=t.attr("data-comment-id"),r=t.find(".comment-content").find("p"),d=$.trim(r.text()),l=j.find(".secret-comment-form");j.attr("action","/api/comment/"+i),j.find("textarea").val(d.replace(/(<br>|<br\/>|<br \/>)/g,"\r\n")),t.hasClass("is-secret")?(T.show(),j.find("[name=is_secret]").attr("checked","checked")):(T.hide(),j.find("[name=is_secret]").removeAttr("checked")),s||o?n.hide():n.show();var c,p,m=$("#comment-edit-form-image");return s?(m.show(),l.hide(),0<(c=t.find(".comment-image")).length?((p=j.find(".image-after")).show(),p.find("img").attr("src",c.attr("src")),j.find("input[name=file_id]").val(c.attr("data-file-id")),j.find(".image-before").hide(),j.find("input[type=file]").val("")):(j.find(".image-before").show(),j.find("input[name=file_id]").val(""),j.find("input[type=file]").val(""),j.find(".image-after").hide()),j.find(".image-uploading").hide()):(l.show(),m.hide(),a?($("#modal-notice-comment").prop("checked",!0),l.hide()):($("#modal-notice-comment").prop("checked",!1),l.show())),j.modal("show"),!1})),P=$("#modal-support"),$(".btn-support").on("click",function(){var e=$(this);0===parseInt(e.attr("data-post-user-id"))?alertPostype("블로그 팀 멤버에서 탈퇴한 작가의 포스트는 후원할 수 없습니다."):0<P.length?P.modal("show"):$("#easy-login").modal("show")}),U=$("#modal-purchase"),$(".btn-purchase").on("click",function(){var e=$(this);0===parseInt(e.attr("data-post-user-id"))?alertPostype("블로그 팀 멤버에서 탈퇴한 작가의 포스트는 구매할 수 없습니다."):0<U.length?U.modal("show"):confirmPostype("로그인이 필요한 서비스입니다. 로그인 페이지로 이동하시겠습니까?",function(){location.href=postypeUrl+"/login"})}),P.on("submit",function(){return E(P),!1}),U.on("submit",function(){return E(U),!1}),S=$("#support-lack-point"),I=$("#support-own-point"),O=$("#support-remain-point"),parseInt(I.attr("data-value"))<100?S.show():S.hide(),P.on("change keyup","input[name=point]",function(){var e=$(this).val();""==e&&(e=0);var t=parseInt(I.attr("data-value"))-parseInt(e);O.text(t.format()),0<=t?S.hide():S.show()}),$(".btn-reset-uploaded-image").on("click",function(){var e=$(this).parents("form");e.find(".image-before").show(),e.find("input[name=file_id]").val(""),e.find("input[name=file_delete]").val("1"),e.find(".image-after").hide(),e.find(".image-before").show()}),$(".support-image").on("change",function(){var e=$(this),t=e.parents("form"),a=e.get(0);if(10485760<("Microsoft Internet Explorer"===navigator.appName?new ActiveXObject("Scripting.FileSystemObject").getFile(a.value).size:a.files[0].size))return alertPostype("사진은 10MB 이내로 등록 가능합니다."),void($("html").hasClass("ie")?e.replaceWith(e.clone()):e.val(""));var o=t.find(".image-before"),s=t.find(".image-uploading"),n=t.find(".image-after");return o.hide(),s.show(),t.ajaxSubmit({url:"/api/file/upload",dataType:"json",type:"post",success:function(e){"success"===e.status?(t.find("input[name=file_id]").val(e.data.file_id),n.find("img").attr("src",e.data.thumbnail),s.hide(),n.show()):"failure"===e.status&&(alertPostype(e.message),o.show(),s.hide())},complete:function(){$("html").hasClass("ie")?e.replaceWith(e.clone()):e.val("")}}),!1})):setTimeout(function(){var e;Cookies.get(N)||(void 0===(e=document.referrer)&&(e=""),$.ajax({url:postypeUrl+"/api/blog/visit",type:"get",dataType:"jsonp",data:"blog_id="+t+"&referrer="+e,success:function(e){"success"===e.status&&Cookies.set(N,!0,{expires:D,path:"/",domain:R})}}))},2e3);var M=(q=window.location.hostname).split("."),q=1<M.length?(M.shift(),"."+M.join(".")):"."+q,K=$("#background-white"),B=$("#background-black");$("article.post:first");function H(e){K.removeClass("active"),B.addClass("active"),o.addClass("dark-mode"),e&&(Cookies.set("bgcolormode","black",{expires:365,path:"/",domain:q}),$.ajax({url:postypeUrl+"/user/setBackgroundColor",type:"get",dataType:"jsonp",data:"bgcolor=black",success:function(e){e.status}}))}function W(e){K.addClass("active"),B.removeClass("active"),o.removeClass("dark-mode"),e&&(Cookies.set("bgcolormode","white",{expires:365,path:"/",domain:q}),$.ajax({url:postypeUrl+"/user/setBackgroundColor",type:"get",dataType:"jsonp",data:"bgcolor=white",success:function(e){e.status}}))}B.on("click",function(){H(!0)}),K.on("click",function(){W(!0)});var G=Cookies.get("bgcolormode");function L(e,t,a){var o,s,n,i,r;function d(e,t,a){return a<0&&(a+=1),1<a&&--a,a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function l(e){var t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}return e/=360,a/=100,0===(t/=100)?n=i=r=a:(n=d(s=2*a-(o=a<.5?a*(1+t):a+t-a*t),o,e+1/3),i=d(s,o,e),r=d(s,o,e-1/3)),"#"+l(n)+l(i)+l(r)}function F(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),a=parseInt(t[1],16),o=parseInt(t[2],16),s=parseInt(t[3],16),n=[];n[0]=a/255,n[1]=o/255,n[2]=s/255;var i,r,d,l=Math.min(n[0],n[1],n[2]),c=Math.max(n[0],n[1],n[2]),p=c-l,m=0,u=0;return 0==p?m=u=0:(m=p/c,i=((c-n[0])/6+p/2)/p,r=((c-n[1])/6+p/2)/p,d=((c-n[2])/6+p/2)/p,n[0]==c?u=d-r:n[1]==c?u=1/3+i-d:n[2]==c&&(u=2/3+r-i),u<0&&u++,1<u&&u--),{h:360*u,s:100*m,l:100*c}}"black"===G?H(!1):"white"===G?W(!1):$.ajax({url:postypeUrl+"/user/getBackgroundColor",type:"get",dataType:"jsonp",success:function(e){"success"===e.status&&("black"===e.data?H(!0):"white"===e.data&&W(!0))}}),function(){try{return window.self!==window.top}catch(e){return 1}}()&&(window.addEventListener("message",function(e){if(!(e.origin.indexOf("postype.com")||e.origin.indexOf("postype.local")||e.origin.indexOf("postype.org")||e.origin.indexOf("postype.net")))return!1;$("#app-menu-container").hide();var t=$("#blog"),a=$("#header-custom"),o=$("#custom-style-tag"),s=$("#masthead > .masthead-title"),n=$("#blog-logo-wrapper");"large"===e.data.blog_header_size?(t.addClass("header-size-lg"),t.removeClass("header-size-md")):(t.addClass("header-size-md"),t.removeClass("header-size-lg")),"left"===e.data.blog_header_align?(t.addClass("header-align-left"),t.removeClass("header-align-center")):(t.addClass("header-align-center"),t.removeClass("header-align-left")),"serif"===e.data.blog_header_font_family?(t.addClass("header-serif"),t.removeClass("header-sans-serif")):(t.addClass("header-sans-serif"),t.removeClass("header-serif")),"list"===e.data.post_list_style?(t.addClass("post-list-view"),t.removeClass("post-grid-view")):(t.addClass("post-grid-view"),t.removeClass("post-list-view")),"list"===e.data.series_list_style?(t.addClass("series-list-view"),t.removeClass("series-grid-view")):(t.addClass("series-grid-view"),t.removeClass("series-list-view")),"small"===e.data.post_tile_size?(t.addClass("post-tile-sm"),t.removeClass("post-tile-md")):(t.addClass("post-tile-md"),t.removeClass("post-tile-sm")),e.data.blog_header_background_image?(t.addClass("header-bg-img"),a.css("background-image","url('"+e.data.blog_header_background_image+"')")):(t.removeClass("header-bg-img"),a.css("background-image","")),"logo"===e.data.blog_header_layout&&e.data.blog_header_logo?(t.removeClass("header-title-tagline"),t.removeClass("header-logo-title-tagline"),t.addClass("header-logo"),s.find(".masthead-logo").remove(),s.prepend('<div class="masthead-logo"><img src=\''+e.data.blog_header_logo+"' class='blog-header-logo'></div>"),n.find("img").remove(),n.prepend('<img class="blog-logo" src="'+e.data.blog_header_logo+'">')):"logo_title_tagline"===e.data.blog_header_layout&&e.data.blog_header_logo?(t.removeClass("header-title-tagline"),t.addClass("header-logo-title-tagline"),t.removeClass("header-logo"),s.find(".masthead-logo").remove(),s.prepend('<div class="masthead-logo"><img src=\''+e.data.blog_header_logo+"' class='blog-header-logo'></div>"),n.find("img").remove(),n.prepend('<img class="blog-logo" src="'+e.data.blog_header_logo+'">')):(t.addClass("header-title-tagline"),t.removeClass("header-logo-title-tagline"),t.removeClass("header-logo"),s.find(".masthead-logo").remove(),n.find("img").remove()),e.data.primary_color&&"on"===e.data.color_fill?(a.css("background-color",e.data.primary_color),t.addClass("header-bg-color")):(a.css("background-color",""),t.removeClass("header-bg-color")),!function(e){var t=F(e);if(t.l<=50)return!0;if(60<=100-t.l+t.s)return!0;return!1}(e.data.primary_color)||"on"!==e.data.color_fill?t.removeClass("invert-colors"):t.addClass("invert-colors"),("on"===e.data.darkmode?H:W)(!1);var i=function(e){var t=F(e);30<t.l&&(t.l=30);return L(t.h,t.s,t.l)}(e.data.primary_color),r=function(e){var t=F(e);t.l<80&&(t.l=80);return L(t.h,t.s,t.l)}(e.data.primary_color),d=":root {--primary-color:"+e.data.primary_color+";--white-mode-primary-color:"+i+";--dark-mode-primary-color:"+r+";}";o.text(d)}),(window.self.origin.indexOf("postype.com")||window.self.origin.indexOf("postype.local")||window.self.origin.indexOf("postype.org")||window.self.origin.indexOf("postype.net"))&&($("#blog").find("a, button").off("click").on("click",function(e){var t=$(this);if(0===t.closest("#gnb-nav").length||"admin-options"===t.attr("id"))return e.preventDefault(),alertPostype("테마 편집 화면에서는 동작하지 않습니다."),!1}),parent.postMessage({request:"reset_style"},"*"))),A.on("click",">.photoset div:not(.cloned) a.photo",function(e){e.preventDefault();var n,i,r,d=$(this),t=document.querySelectorAll(".pswp")[0];t&&(n=[],r=i=0,A.find(">.photoset div:not(.cloned) a.photo").each(function(e,t){var a,o,s=$(t);s.parent().hasClass("cloned")||(a=s.attr("data-caption"),o={src:s.attr("href"),w:s.attr("data-width"),h:s.attr("data-height"),title:a},n.push(o),s.get(0)===d.get(0)&&(i=r),r++)}),new PhotoSwipe(t,PhotoSwipeUI_Default,n,{history:!1,focus:!1,index:i,showAnimationDuration:0,shareButtons:{}}).init())});var X=$("#modal-app-link");if(0<X.length)try{Cookies.get("modalapplink")||(X.show(),X.on("click","#btn-close-modal-app-link",function(e){return e.preventDefault(),X.hide(),Cookies.set("modalapplink",1,{expires:365,path:"/",domain:q}),!1}))}catch(e){}});
$(function(){var t=!0,a=document.getElementById("blog-iframe");$("#preview-form").off("submit");var s=$("#custom-form");function i(){var e,o={};$("input.dynamic-input, input.customize-input").each(function(e,t){var a=$(t),s=a.attr("name"),i=a.val();"checkbox"===a.attr("type")&&(a.prop("checked")||(i="")),o[s]=i}),e=o,a.contentWindow.postMessage(e,"*")}0<s.length&&$(window).on("beforeunload",function(){if(t)return"테마 편집기에서 나가시겠습니까? 변경사항이 저장되지 않을 수 있습니다."}),s.on("change","input.dynamic-input, input.customize-input",function(){i()}),$(".custom-item button").on("click",function(){var e=$(this);e.closest(".custom-item").find("button").removeClass("active"),e.addClass("active");var t=e.attr("data-name"),a=e.attr("data-value");s.find("input[name="+t+"]").val(a).trigger("change")});var o=$("#blog-header-background-image"),n=$("#blog-header-background-file-id"),r=$("#blog-header-logo"),l=$("#blog-header-logo-file-id");$(".custom-item input[type=file]").on("change",function(){var t=$(this),e=t.parents("form"),a=t.get(0);if(10485760<("Microsoft Internet Explorer"===navigator.appName?new ActiveXObject("Scripting.FileSystemObject").getFile(a.value).size:a.files[0].size))return alertPostype("첨부 파일은 10MB 이내로 등록 가능합니다."),!1;e.find("#target").val(t.attr("name"));var s=t.attr("data-width"),i=t.attr("data-height");return e.find("#width").val(s),e.find("#height").val(i),e.ajaxSubmit({url:"/theme/upload",dataType:"json",type:"post",success:function(e){"success"===e.status?"logo"===t.attr("name")?(r.val(e.data.thumbnail),l.val(e.data.file_id).trigger("change")):(o.val(e.data.thumbnail),n.val(e.data.file_id).trigger("change")):"failure"===e.status&&alertPostype(e.message)},complete:function(){$("html").hasClass("ie")?t.replaceWith(t.clone()):t.val("")}}),!1}),$(".custom-item .btn-delete").on("click",function(){"logo"===$(this).attr("data-type")?(r.val(""),l.val("").trigger("change")):(o.val(""),n.val("").trigger("change")),$(this).closest(".custom-item").find("input[type=file]").val("")}),s.submit(function(){return $(this).ajaxSubmit({url:"/theme/save",dataType:"json",type:"post",success:function(e){"success"===e.status?(t=!1,alertPostype(e.message)):"failure"===e.status&&alertPostype(e.message)},complete:function(){e.loading(!1)}}),!1});var e=$("#btnApply");e.on("click",function(){return e.loading(!0),s.submit(),!1}),$("#btnReset").on("click",function(){return confirmPostype("모든 내용이 초기화됩니다. 계속 진행하시겠습니까?",function(){$.ajax({url:"/theme/reset",dataType:"json",type:"post",data:"is_confirmed=1&blog_theme_id="+s.find("input[name=blog_theme_id]").val(),success:function(e){"success"===e.status?(t=!1,window.history.go(0)):alertPostype(e.message)}})}),!1});var c=$("#viewport"),d=$("#viewport-smartphone"),m=$("#viewport-tablet"),v=$("#viewport-desktop"),h=$(a);d.on("click",function(){return c.addClass("smartphone"),c.removeClass("tablet"),c.removeClass("desktop"),$(this).addClass("active"),m.removeClass("active"),v.removeClass("active"),h.width(c.width()),h.height(c.height()),Cookies.set("themeViewport","smartphone",{expires:365,path:"/",domain:".postype.com"}),!1}),m.on("click",function(){return c.removeClass("smartphone"),c.addClass("tablet"),c.removeClass("desktop"),d.removeClass("active"),$(this).addClass("active"),v.removeClass("active"),h.width(c.width()),h.height(c.height()),Cookies.set("themeViewport","tablet",{expires:365}),!1}),v.on("click",function(){return c.removeClass("smartphone"),c.removeClass("tablet"),c.addClass("desktop"),d.removeClass("active"),m.removeClass("active"),$(this).addClass("active"),h.width(c.width()),h.height(c.height()),Cookies.set("themeViewport","desktop",{expires:365}),!1});var u=Cookies.get("themeViewport");void 0===u&&(u="desktop"),"desktop"===u?(c.removeClass("smartphone"),c.removeClass("tablet"),c.addClass("desktop"),v.addClass("active"),d.removeClass("active"),m.removeClass("active")):"tablet"===u?(c.removeClass("smartphone"),c.addClass("tablet"),c.removeClass("desktop"),v.removeClass("active"),d.removeClass("active"),m.addClass("active")):"smartphone"===u&&(c.addClass("smartphone"),c.removeClass("tablet"),c.removeClass("desktop"),v.removeClass("active"),d.addClass("active"),m.removeClass("active")),c.addClass(u),h.width(c.width()),h.height(c.height()),$(window).on("resize",function(){h.width(c.width()),h.height(c.height())}),window.addEventListener("message",function(e){"reset_style"===e.data.request&&i()})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(X){"use strict";var b={};b.fileapi=void 0!==X("<input type='file'/>").get(0).files,b.formdata=void 0!==window.FormData;var C=!!X.fn.prop;function r(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),X(e.target).ajaxSubmit(t))}function a(e){var t=e.target,r=X(t);if(!r.is("[type=submit],[type=image]")){var a=r.closest("[type=submit]");if(0===a.length)return;t=a[0]}var n,o=this;"image"==(o.clk=t).type&&(void 0!==e.offsetX?(o.clk_x=e.offsetX,o.clk_y=e.offsetY):"function"==typeof X.fn.offset?(n=r.offset(),o.clk_x=e.pageX-n.left,o.clk_y=e.pageY-n.top):(o.clk_x=e.pageX-t.offsetLeft,o.clk_y=e.pageY-t.offsetTop)),setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function _(){var e;X.fn.ajaxSubmit.debug&&(e="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e))}X.fn.attr2=function(){if(!C)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},X.fn.ajaxSubmit=function(E){if(!this.length)return _("ajaxSubmit: skipping submit process - no element selected"),this;var M,e,t,F=this;"function"==typeof E?E={success:E}:void 0===E&&(E={}),M=E.type||this.attr2("method"),t=(t=(t="string"==typeof(e=E.url||this.attr2("action"))?X.trim(e):"")||window.location.href||"")&&(t.match(/^([^#]+)/)||[])[1],E=X.extend(!0,{url:t,success:X.ajaxSettings.success,type:M||X.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},E);var r={};if(this.trigger("form-pre-serialize",[this,E,r]),r.veto)return _("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(E.beforeSerialize&&!1===E.beforeSerialize(this,E))return _("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var a=E.traditional;void 0===a&&(a=X.ajaxSettings.traditional);var n,O=[],o=this.formToArray(E.semantic,O);if(E.data&&(E.extraData=E.data,n=X.param(E.data,a)),E.beforeSubmit&&!1===E.beforeSubmit(o,this,E))return _("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[o,this,E,r]),r.veto)return _("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var i=X.param(o,a);n&&(i=i?i+"&"+n:n),"GET"==E.type.toUpperCase()?(E.url+=(0<=E.url.indexOf("?")?"&":"?")+i,E.data=null):E.data=i;var s,u,c,l=[];E.resetForm&&l.push(function(){F.resetForm()}),E.clearForm&&l.push(function(){F.clearForm(E.includeHidden)}),!E.dataType&&E.target?(s=E.success||function(){},l.push(function(e){var t=E.replaceTarget?"replaceWith":"html";X(E.target)[t](e).each(s,arguments)})):E.success&&l.push(E.success),E.success=function(e,t,r){for(var a=E.context||this,n=0,o=l.length;n<o;n++)l[n].apply(a,[e,t,r||F,F])},E.error&&(u=E.error,E.error=function(e,t,r){var a=E.context||this;u.apply(a,[e,t,r,F])}),E.complete&&(c=E.complete,E.complete=function(e,t){var r=E.context||this;c.apply(r,[e,t,F])});var f=0<X("input[type=file]:enabled",this).filter(function(){return""!==X(this).val()}).length,m="multipart/form-data",p=F.attr("enctype")==m||F.attr("encoding")==m,d=b.fileapi&&b.formdata;_("fileAPI :"+d);var h,v=(f||p)&&!d;!1!==E.iframe&&(E.iframe||v)?E.closeKeepAlive?X.get(E.closeKeepAlive,function(){h=x(o)}):h=x(o):h=(f||p)&&d?function(e){for(var r=new FormData,t=0;t<e.length;t++)r.append(e[t].name,e[t].value);if(E.extraData){var a=function(e){var t,r,a=X.param(e,E.traditional).split("&"),n=a.length,o=[];for(t=0;t<n;t++)a[t]=a[t].replace(/\+/g," "),r=a[t].split("="),o.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return o}(E.extraData);for(t=0;t<a.length;t++)a[t]&&r.append(a[t][0],a[t][1])}E.data=null;var n=X.extend(!0,{},X.ajaxSettings,E,{contentType:!1,processData:!1,cache:!1,type:M||"POST"});E.uploadProgress&&(n.xhr=function(){var e=X.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(r/a*100)),E.uploadProgress(e,r,a,t)},!1),e});n.data=null;var o=n.beforeSend;return n.beforeSend=function(e,t){E.formData?t.data=E.formData:t.data=r,o&&o.call(this,e,t)},X.ajax(n)}(o):X.ajax(E),F.removeData("jqxhr").data("jqxhr",h);for(var g=0;g<O.length;g++)O[g]=null;return this.trigger("form-submit-notify",[this,E]),this;function x(e){var t,r,l,f,o,m,p,d,a,n,h,v,i=F[0],g=X.Deferred();if(g.abort=function(e){d.abort(e)},e)for(r=0;r<O.length;r++)t=X(O[r]),C?t.prop("disabled",!1):t.removeAttr("disabled");if((l=X.extend(!0,{},X.ajaxSettings,E)).context=l.context||l,o="jqFormIO"+(new Date).getTime(),l.iframeTarget?(n=(m=X(l.iframeTarget)).attr2("name"))?o=n:m.attr2("name",o):(m=X('<iframe name="'+o+'" src="'+l.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=m[0],d={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";_("aborting upload... "+t),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(e){}m.attr("src",l.iframeSrc),d.error=t,l.error&&l.error.call(l.context,d,t,e),f&&X.event.trigger("ajaxError",[d,l,t]),l.complete&&l.complete.call(l.context,d,t)}},(f=l.global)&&0==X.active++&&X.event.trigger("ajaxStart"),f&&X.event.trigger("ajaxSend",[d,l]),l.beforeSend&&!1===l.beforeSend.call(l.context,d,l))return l.global&&X.active--,g.reject(),g;if(d.aborted)return g.reject(),g;(a=i.clk)&&(n=a.name)&&!a.disabled&&(l.extraData=l.extraData||{},l.extraData[n]=a.value,"image"==a.type&&(l.extraData[n+".x"]=i.clk_x,l.extraData[n+".y"]=i.clk_y));var x=1,b=2;function y(t){var r=null;try{t.contentWindow&&(r=t.contentWindow.document)}catch(e){_("cannot get iframe.contentWindow document: "+e)}if(r)return r;try{r=t.contentDocument?t.contentDocument:t.document}catch(e){_("cannot get iframe.contentDocument: "+e),r=t.document}return r}var s=X("meta[name=csrf-token]").attr("content"),u=X("meta[name=csrf-param]").attr("content");function c(){var e=F.attr2("target"),t=F.attr2("action"),r=F.attr("enctype")||F.attr("encoding")||"multipart/form-data";i.setAttribute("target",o),M&&!/post/i.test(M)||i.setAttribute("method","POST"),t!=l.url&&i.setAttribute("action",l.url),l.skipEncodingOverride||M&&!/post/i.test(M)||F.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(v=setTimeout(function(){h=!0,D(x)},l.timeout));var a=[];try{if(l.extraData)for(var n in l.extraData)l.extraData.hasOwnProperty(n)&&(X.isPlainObject(l.extraData[n])&&l.extraData[n].hasOwnProperty("name")&&l.extraData[n].hasOwnProperty("value")?a.push(X('<input type="hidden" name="'+l.extraData[n].name+'">').val(l.extraData[n].value).appendTo(i)[0]):a.push(X('<input type="hidden" name="'+n+'">').val(l.extraData[n]).appendTo(i)[0]));l.iframeTarget||m.appendTo("body"),p.attachEvent?p.attachEvent("onload",D):p.addEventListener("load",D,!1),setTimeout(function e(){try{var t=y(p).readyState;_("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){_("Server abort: ",e," (",e.name,")"),D(b),v&&clearTimeout(v),v=void 0}},15);try{i.submit()}catch(e){document.createElement("form").submit.apply(i)}}finally{i.setAttribute("action",t),i.setAttribute("enctype",r),e?i.setAttribute("target",e):F.removeAttr("target"),X(a).remove()}}u&&s&&(l.extraData=l.extraData||{},l.extraData[u]=s),l.forceSync?c():setTimeout(c,10);var T,j,w,S=50;function D(e){if(!d.aborted&&!w){if((j=y(p))||(_("cannot access response document"),e=b),e===x&&d)return d.abort("timeout"),void g.reject(d,"timeout");if(e==b&&d)return d.abort("server abort"),void g.reject(d,"error","server abort");if(j&&j.location.href!=l.iframeSrc||h){p.detachEvent?p.detachEvent("onload",D):p.removeEventListener("load",D,!1);var t,r="success";try{if(h)throw"timeout";var a="xml"==l.dataType||j.XMLDocument||X.isXMLDoc(j);if(_("isXml="+a),!a&&window.opera&&(null===j.body||!j.body.innerHTML)&&--S)return _("requeing onLoad callback, DOM not available"),void setTimeout(D,250);var n=j.body?j.body:j.documentElement;d.responseText=n?n.innerHTML:null,d.responseXML=j.XMLDocument?j.XMLDocument:j,a&&(l.dataType="xml"),d.getResponseHeader=function(e){return{"content-type":l.dataType}[e.toLowerCase()]},n&&(d.status=Number(n.getAttribute("status"))||d.status,d.statusText=n.getAttribute("statusText")||d.statusText);var o,i,s,u=(l.dataType||"").toLowerCase(),c=/(json|script|text)/.test(u);c||l.textarea?(o=j.getElementsByTagName("textarea")[0])?(d.responseText=o.value,d.status=Number(o.getAttribute("status"))||d.status,d.statusText=o.getAttribute("statusText")||d.statusText):c&&(i=j.getElementsByTagName("pre")[0],s=j.getElementsByTagName("body")[0],i?d.responseText=i.textContent?i.textContent:i.innerText:s&&(d.responseText=s.textContent?s.textContent:s.innerText)):"xml"==u&&!d.responseXML&&d.responseText&&(d.responseXML=k(d.responseText));try{T=L(d,u,l)}catch(e){r="parsererror",d.error=t=e||r}}catch(e){_("error caught: ",e),r="error",d.error=t=e||r}d.aborted&&(_("upload aborted"),r=null),d.status&&(r=200<=d.status&&d.status<300||304===d.status?"success":"error"),"success"===r?(l.success&&l.success.call(l.context,T,"success",d),g.resolve(d.responseText,"success",d),f&&X.event.trigger("ajaxSuccess",[d,l])):r&&(void 0===t&&(t=d.statusText),l.error&&l.error.call(l.context,d,r,t),g.reject(d,"error",t),f&&X.event.trigger("ajaxError",[d,l,t])),f&&X.event.trigger("ajaxComplete",[d,l]),f&&!--X.active&&X.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,d,r),w=!0,l.timeout&&clearTimeout(v),setTimeout(function(){l.iframeTarget?m.attr("src",l.iframeSrc):m.remove(),d.responseXML=null},100)}}}var k=X.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},A=X.parseJSON||function(e){return window.eval("("+e+")")},L=function(e,t,r){var a=e.getResponseHeader("content-type")||"",n="xml"===t||!t&&0<=a.indexOf("xml"),o=n?e.responseXML:e.responseText;return n&&"parsererror"===o.documentElement.nodeName&&X.error&&X.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,t)),"string"==typeof o&&("json"===t||!t&&0<=a.indexOf("json")?o=A(o):("script"===t||!t&&0<=a.indexOf("javascript"))&&X.globalEval(o)),o};return g}},X.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&X.isFunction(X.fn.on),e.delegation||0!==this.length)return e.delegation?(X(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,e,r).on("click.form-plugin",this.selector,e,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,r).bind("click.form-plugin",e,a);var t={s:this.selector,c:this.context};return!X.isReady&&t.s?(_("DOM not ready, queuing ajaxForm"),X(function(){X(t.s,t.c).ajaxForm(e)})):_("terminating; zero elements found by selector"+(X.isReady?"":" (DOM not ready)")),this},X.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},X.fn.formToArray=function(e,t){var r=[];if(0===this.length)return r;var a,n,o,i,s,u,c,l,f,m,p=this[0],d=this.attr("id"),h=e?p.getElementsByTagName("*"):p.elements;if(h&&!/MSIE [678]/.test(navigator.userAgent)&&(h=X(h).get()),d&&(a=X(':input[form="'+d+'"]').get()).length&&(h=(h||[]).concat(a)),!h||!h.length)return r;for(n=0,u=h.length;n<u;n++)if((m=(s=h[n]).name)&&!s.disabled)if(e&&p.clk&&"image"==s.type)p.clk==s&&(r.push({name:m,value:X(s).val(),type:s.type}),r.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y}));else if((i=X.fieldValue(s,!0))&&i.constructor==Array)for(t&&t.push(s),o=0,c=i.length;o<c;o++)r.push({name:m,value:i[o]});else if(b.fileapi&&"file"==s.type){t&&t.push(s);var v=s.files;if(v.length)for(o=0;o<v.length;o++)r.push({name:m,value:v[o],type:s.type});else r.push({name:m,value:"",type:s.type})}else null!=i&&(t&&t.push(s),r.push({name:m,value:i,type:s.type,required:s.required}));return e||!p.clk||(m=(f=(l=X(p.clk))[0]).name)&&!f.disabled&&"image"==f.type&&(r.push({name:m,value:l.val()}),r.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y})),r},X.fn.formSerialize=function(e){return X.param(this.formToArray(e))},X.fn.fieldSerialize=function(n){var o=[];return this.each(function(){var e=this.name;if(e){var t=X.fieldValue(this,n);if(t&&t.constructor==Array)for(var r=0,a=t.length;r<a;r++)o.push({name:e,value:t[r]});else null!=t&&o.push({name:this.name,value:t})}}),X.param(o)},X.fn.fieldValue=function(e){for(var t=[],r=0,a=this.length;r<a;r++){var n=this[r],o=X.fieldValue(n,e);null==o||o.constructor==Array&&!o.length||(o.constructor==Array?X.merge(t,o):t.push(o))}return t},X.fieldValue=function(e,t){var r=e.name,a=e.type,n=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!r||e.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!e.checked||("submit"==a||"image"==a)&&e.form&&e.form.clk!=e||"select"==n&&-1==e.selectedIndex))return null;if("select"!=n)return X(e).val();var o=e.selectedIndex;if(o<0)return null;for(var i=[],s=e.options,u="select-one"==a,c=u?o+1:s.length,l=u?o:0;l<c;l++){var f=s[l];if(f.selected){var m=(m=f.value)||(f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value);if(u)return m;i.push(m)}}return i},X.fn.clearForm=function(e){return this.each(function(){X("input,select,textarea",this).clearFields(e)})},X.fn.clearFields=X.fn.clearInputs=function(r){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:"file"==e?/MSIE/.test(navigator.userAgent)?X(this).replaceWith(X(this).clone(!0)):X(this).val(""):r&&(!0===r&&/hidden/.test(e)||"string"==typeof r&&X(this).is(r))&&(this.value="")})},X.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})},X.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},X.fn.selected=function(r){return void 0===r&&(r=!0),this.each(function(){var e,t=this.type;"checkbox"==t||"radio"==t?this.checked=r:"option"==this.tagName.toLowerCase()&&(e=X(this).parent("select"),r&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),this.selected=r)})},X.fn.ajaxSubmit.debug=!1});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(X){"use strict";function r(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),X(e.target).ajaxSubmit(t))}function a(e){var t=e.target,r=X(t);if(!r.is("[type=submit],[type=image]")){var a=r.closest("[type=submit]");if(0===a.length)return;t=a[0]}var n,o=this;"image"==(o.clk=t).type&&(void 0!==e.offsetX?(o.clk_x=e.offsetX,o.clk_y=e.offsetY):"function"==typeof X.fn.offset?(n=r.offset(),o.clk_x=e.pageX-n.left,o.clk_y=e.pageY-n.top):(o.clk_x=e.pageX-t.offsetLeft,o.clk_y=e.pageY-t.offsetTop)),setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function C(){var e;X.fn.ajaxSubmit.debug&&(e="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e))}var b={};b.fileapi=void 0!==X("<input type='file'/>").get(0).files,b.formdata=void 0!==window.FormData;var _=!!X.fn.prop;X.fn.attr2=function(){if(!_)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},X.fn.ajaxSubmit=function(E){function e(e){function l(t){var r=null;try{t.contentWindow&&(r=t.contentWindow.document)}catch(e){C("cannot get iframe.contentWindow document: "+e)}if(r)return r;try{r=t.contentDocument?t.contentDocument:t.document}catch(e){C("cannot get iframe.contentDocument: "+e),r=t.document}return r}function t(){var e=F.attr2("target"),t=F.attr2("action"),r=F.attr("enctype")||F.attr("encoding")||"multipart/form-data";s.setAttribute("target",o),M&&!/post/i.test(M)||s.setAttribute("method","POST"),t!=m.url&&s.setAttribute("action",m.url),m.skipEncodingOverride||M&&!/post/i.test(M)||F.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(x=setTimeout(function(){g=!0,f(y)},m.timeout));var a=[];try{if(m.extraData)for(var n in m.extraData)m.extraData.hasOwnProperty(n)&&a.push(X.isPlainObject(m.extraData[n])&&m.extraData[n].hasOwnProperty("name")&&m.extraData[n].hasOwnProperty("value")?X('<input type="hidden" name="'+m.extraData[n].name+'">').val(m.extraData[n].value).appendTo(s)[0]:X('<input type="hidden" name="'+n+'">').val(m.extraData[n]).appendTo(s)[0]);m.iframeTarget||d.appendTo("body"),h.attachEvent?h.attachEvent("onload",f):h.addEventListener("load",f,!1),setTimeout(function e(){try{var t=l(h).readyState;C("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){C("Server abort: ",e," (",e.name,")"),f(T),x&&clearTimeout(x),x=void 0}},15);try{s.submit()}catch(e){document.createElement("form").submit.apply(s)}}finally{s.setAttribute("action",t),s.setAttribute("enctype",r),e?s.setAttribute("target",e):F.removeAttr("target"),X(a).remove()}}function f(e){if(!v.aborted&&!S){if((w=l(h))||(C("cannot access response document"),e=T),e===y&&v)return v.abort("timeout"),void b.reject(v,"timeout");if(e==T&&v)return v.abort("server abort"),void b.reject(v,"error","server abort");if(w&&w.location.href!=m.iframeSrc||g){h.detachEvent?h.detachEvent("onload",f):h.removeEventListener("load",f,!1);var t,r="success";try{if(g)throw"timeout";var a="xml"==m.dataType||w.XMLDocument||X.isXMLDoc(w);if(C("isXml="+a),!a&&window.opera&&(null===w.body||!w.body.innerHTML)&&--D)return C("requeing onLoad callback, DOM not available"),void setTimeout(f,250);var n=w.body?w.body:w.documentElement;v.responseText=n?n.innerHTML:null,v.responseXML=w.XMLDocument?w.XMLDocument:w,a&&(m.dataType="xml"),v.getResponseHeader=function(e){return{"content-type":m.dataType}[e.toLowerCase()]},n&&(v.status=Number(n.getAttribute("status"))||v.status,v.statusText=n.getAttribute("statusText")||v.statusText);var o,i,s,u=(m.dataType||"").toLowerCase(),c=/(json|script|text)/.test(u);c||m.textarea?(o=w.getElementsByTagName("textarea")[0])?(v.responseText=o.value,v.status=Number(o.getAttribute("status"))||v.status,v.statusText=o.getAttribute("statusText")||v.statusText):c&&(i=w.getElementsByTagName("pre")[0],s=w.getElementsByTagName("body")[0],i?v.responseText=i.textContent?i.textContent:i.innerText:s&&(v.responseText=s.textContent?s.textContent:s.innerText)):"xml"==u&&!v.responseXML&&v.responseText&&(v.responseXML=k(v.responseText));try{j=L(v,u,m)}catch(e){r="parsererror",v.error=t=e||r}}catch(e){C("error caught: ",e),r="error",v.error=t=e||r}v.aborted&&(C("upload aborted"),r=null),v.status&&(r=200<=v.status&&v.status<300||304===v.status?"success":"error"),"success"===r?(m.success&&m.success.call(m.context,j,"success",v),b.resolve(v.responseText,"success",v),p&&X.event.trigger("ajaxSuccess",[v,m])):r&&(void 0===t&&(t=v.statusText),m.error&&m.error.call(m.context,v,r,t),b.reject(v,"error",t),p&&X.event.trigger("ajaxError",[v,m,t])),p&&X.event.trigger("ajaxComplete",[v,m]),p&&!--X.active&&X.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,v,r),S=!0,m.timeout&&clearTimeout(x),setTimeout(function(){m.iframeTarget?d.attr("src",m.iframeSrc):d.remove(),v.responseXML=null},100)}}}var r,a,m,p,o,d,h,v,n,i,g,x,s=F[0],b=X.Deferred();if(b.abort=function(e){v.abort(e)},e)for(a=0;a<O.length;a++)r=X(O[a]),_?r.prop("disabled",!1):r.removeAttr("disabled");if((m=X.extend(!0,{},X.ajaxSettings,E)).context=m.context||m,o="jqFormIO"+(new Date).getTime(),m.iframeTarget?(i=(d=X(m.iframeTarget)).attr2("name"))?o=i:d.attr2("name",o):(d=X('<iframe name="'+o+'" src="'+m.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),h=d[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";C("aborting upload... "+t),this.aborted=1;try{h.contentWindow.document.execCommand&&h.contentWindow.document.execCommand("Stop")}catch(e){}d.attr("src",m.iframeSrc),v.error=t,m.error&&m.error.call(m.context,v,t,e),p&&X.event.trigger("ajaxError",[v,m,t]),m.complete&&m.complete.call(m.context,v,t)}},(p=m.global)&&0==X.active++&&X.event.trigger("ajaxStart"),p&&X.event.trigger("ajaxSend",[v,m]),m.beforeSend&&!1===m.beforeSend.call(m.context,v,m))return m.global&&X.active--,b.reject(),b;if(v.aborted)return b.reject(),b;!(n=s.clk)||(i=n.name)&&!n.disabled&&(m.extraData=m.extraData||{},m.extraData[i]=n.value,"image"==n.type&&(m.extraData[i+".x"]=s.clk_x,m.extraData[i+".y"]=s.clk_y));var y=1,T=2,u=X("meta[name=csrf-token]").attr("content"),c=X("meta[name=csrf-param]").attr("content");c&&u&&(m.extraData=m.extraData||{},m.extraData[c]=u),m.forceSync?t():setTimeout(t,10);var j,w,S,D=50,k=X.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},A=X.parseJSON||function(e){return window.eval("("+e+")")},L=function(e,t,r){var a=e.getResponseHeader("content-type")||"",n="xml"===t||!t&&0<=a.indexOf("xml"),o=n?e.responseXML:e.responseText;return n&&"parsererror"===o.documentElement.nodeName&&X.error&&X.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,t)),"string"==typeof o&&("json"===t||!t&&0<=a.indexOf("json")?o=A(o):("script"===t||!t&&0<=a.indexOf("javascript"))&&X.globalEval(o)),o};return b}if(!this.length)return C("ajaxSubmit: skipping submit process - no element selected"),this;var M,t,r,F=this;"function"==typeof E?E={success:E}:void 0===E&&(E={}),M=E.type||this.attr2("method"),r=(r=(r="string"==typeof(t=E.url||this.attr2("action"))?X.trim(t):"")||window.location.href||"")&&(r.match(/^([^#]+)/)||[])[1],E=X.extend(!0,{url:r,success:X.ajaxSettings.success,type:M||X.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},E);var a={};if(this.trigger("form-pre-serialize",[this,E,a]),a.veto)return C("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(E.beforeSerialize&&!1===E.beforeSerialize(this,E))return C("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=E.traditional;void 0===n&&(n=X.ajaxSettings.traditional);var o,O=[],i=this.formToArray(E.semantic,O);if(E.data&&(E.extraData=E.data,o=X.param(E.data,n)),E.beforeSubmit&&!1===E.beforeSubmit(i,this,E))return C("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[i,this,E,a]),a.veto)return C("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var s=X.param(i,n);o&&(s=s?s+"&"+o:o),"GET"==E.type.toUpperCase()?(E.url+=(0<=E.url.indexOf("?")?"&":"?")+s,E.data=null):E.data=s;var u,c,l,f=[];E.resetForm&&f.push(function(){F.resetForm()}),E.clearForm&&f.push(function(){F.clearForm(E.includeHidden)}),!E.dataType&&E.target?(u=E.success||function(){},f.push(function(e){var t=E.replaceTarget?"replaceWith":"html";X(E.target)[t](e).each(u,arguments)})):E.success&&f.push(E.success),E.success=function(e,t,r){for(var a=E.context||this,n=0,o=f.length;n<o;n++)f[n].apply(a,[e,t,r||F,F])},E.error&&(c=E.error,E.error=function(e,t,r){var a=E.context||this;c.apply(a,[e,t,r,F])}),E.complete&&(l=E.complete,E.complete=function(e,t){var r=E.context||this;l.apply(r,[e,t,F])});var m=0<X("input[type=file]:enabled",this).filter(function(){return""!==X(this).val()}).length,p="multipart/form-data",d=F.attr("enctype")==p||F.attr("encoding")==p,h=b.fileapi&&b.formdata;C("fileAPI :"+h);var v,g=(m||d)&&!h;!1!==E.iframe&&(E.iframe||g)?E.closeKeepAlive?X.get(E.closeKeepAlive,function(){v=e(i)}):v=e(i):v=(m||d)&&h?function(e){for(var r=new FormData,t=0;t<e.length;t++)r.append(e[t].name,e[t].value);if(E.extraData)for(var a=function(e){for(var t,r=X.param(e,E.traditional).split("&"),a=r.length,n=[],o=0;o<a;o++)r[o]=r[o].replace(/\+/g," "),t=r[o].split("="),n.push([decodeURIComponent(t[0]),decodeURIComponent(t[1])]);return n}(E.extraData),t=0;t<a.length;t++)a[t]&&r.append(a[t][0],a[t][1]);E.data=null;var n=X.extend(!0,{},X.ajaxSettings,E,{contentType:!1,processData:!1,cache:!1,type:M||"POST"});E.uploadProgress&&(n.xhr=function(){var e=X.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,r=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(r/a*100)),E.uploadProgress(e,r,a,t)},!1),e}),n.data=null;var o=n.beforeSend;return n.beforeSend=function(e,t){t.data=E.formData?E.formData:r,o&&o.call(this,e,t)},X.ajax(n)}(i):X.ajax(E),F.removeData("jqxhr").data("jqxhr",v);for(var x=0;x<O.length;x++)O[x]=null;return this.trigger("form-submit-notify",[this,E]),this},X.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&X.isFunction(X.fn.on),e.delegation||0!==this.length)return e.delegation?(X(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,e,r).on("click.form-plugin",this.selector,e,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,r).bind("click.form-plugin",e,a);var t={s:this.selector,c:this.context};return!X.isReady&&t.s?(C("DOM not ready, queuing ajaxForm"),X(function(){X(t.s,t.c).ajaxForm(e)})):C("terminating; zero elements found by selector"+(X.isReady?"":" (DOM not ready)")),this},X.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},X.fn.formToArray=function(e,t){var r=[];if(0===this.length)return r;var a,n,o,i,s,u,c,l,f,m,p=this[0],d=this.attr("id"),h=e?p.getElementsByTagName("*"):p.elements;if(h&&!/MSIE [678]/.test(navigator.userAgent)&&(h=X(h).get()),d&&((a=X(':input[form="'+d+'"]').get()).length&&(h=(h||[]).concat(a))),!h||!h.length)return r;for(n=0,u=h.length;n<u;n++)if((m=(s=h[n]).name)&&!s.disabled)if(e&&p.clk&&"image"==s.type)p.clk==s&&(r.push({name:m,value:X(s).val(),type:s.type}),r.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y}));else if((i=X.fieldValue(s,!0))&&i.constructor==Array)for(t&&t.push(s),o=0,c=i.length;o<c;o++)r.push({name:m,value:i[o]});else if(b.fileapi&&"file"==s.type){t&&t.push(s);var v=s.files;if(v.length)for(o=0;o<v.length;o++)r.push({name:m,value:v[o],type:s.type});else r.push({name:m,value:"",type:s.type})}else null!=i&&(t&&t.push(s),r.push({name:m,value:i,type:s.type,required:s.required}));return e||!p.clk||(m=(f=(l=X(p.clk))[0]).name)&&!f.disabled&&"image"==f.type&&(r.push({name:m,value:l.val()}),r.push({name:m+".x",value:p.clk_x},{name:m+".y",value:p.clk_y})),r},X.fn.formSerialize=function(e){return X.param(this.formToArray(e))},X.fn.fieldSerialize=function(n){var o=[];return this.each(function(){var e=this.name;if(e){var t=X.fieldValue(this,n);if(t&&t.constructor==Array)for(var r=0,a=t.length;r<a;r++)o.push({name:e,value:t[r]});else null!=t&&o.push({name:this.name,value:t})}}),X.param(o)},X.fn.fieldValue=function(e){for(var t=[],r=0,a=this.length;r<a;r++){var n=this[r],o=X.fieldValue(n,e);null==o||o.constructor==Array&&!o.length||(o.constructor==Array?X.merge(t,o):t.push(o))}return t},X.fieldValue=function(e,t){var r=e.name,a=e.type,n=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!r||e.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!e.checked||("submit"==a||"image"==a)&&e.form&&e.form.clk!=e||"select"==n&&-1==e.selectedIndex))return null;if("select"!=n)return X(e).val();var o=e.selectedIndex;if(o<0)return null;for(var i=[],s=e.options,u="select-one"==a,c=u?o+1:s.length,l=u?o:0;l<c;l++){var f=s[l];if(f.selected){var m=(m=f.value)||(f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value);if(u)return m;i.push(m)}}return i},X.fn.clearForm=function(e){return this.each(function(){X("input,select,textarea",this).clearFields(e)})},X.fn.clearFields=X.fn.clearInputs=function(r){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();a.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:"file"==e?/MSIE/.test(navigator.userAgent)?X(this).replaceWith(X(this).clone(!0)):X(this).val(""):r&&(!0===r&&/hidden/.test(e)||"string"==typeof r&&X(this).is(r))&&(this.value="")})},X.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})},X.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},X.fn.selected=function(r){return void 0===r&&(r=!0),this.each(function(){var e,t=this.type;"checkbox"==t||"radio"==t?this.checked=r:"option"==this.tagName.toLowerCase()&&(e=X(this).parent("select"),r&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),this.selected=r)})},X.fn.ajaxSubmit.debug=!1});
$(function(){$body=$("body"),$("#poster-carousel").owlCarousel({loop:!1,autoWidth:!0,margin:5,mouseDrag:!0,nav:!0,dots:!0,navText:["<span class='carousel-btn-inner'><i class='far fa-chevron-left'></i></span>","<span class='carousel-btn-inner'><i class='far fa-chevron-right'></i></span>"],responsiveClass:!0,responsive:{0:{items:2},992:{items:3},1400:{items:6,loop:!1,nav:!1,dots:!1}}});$(".primary-nav").height();$(window).on("resize",function(){$(".primary-nav").height()});var e,t,a=$("nav.secondary-nav .nav-scroll-md-down:first");0<a.length&&(e=a.find(">li a.active"),t=$(window).width(),0<e.length&&t<e.offset().left+e.width()+20&&a.scrollLeft(e.offset().left+e.width()+20-t));var n,o,i=$("nav.local-nav .nav-scroll-lg-down:first, nav.local-nav .nav-scroll-sm-down:first");0<i.length&&(n=i.find(">li a.active"),o=$(window).width(),0<n.length&&o<n.offset().left+n.width()+90&&i.scrollLeft(n.offset().left+n.width()+90-o)),$("#search-toggler").on("click",function(e){return e.preventDefault(),$(".header .navbar-collapse").toggleClass("show"),$(".header").toggleClass("search-show"),$("#search input").focus(),!1}),$("#search-closer").on("click",function(e){return e.preventDefault(),$(".header .navbar-collapse").removeClass("show"),$(".header").removeClass("search-show"),$("#search input").blur(),!1});var s=$("#btn-lang-ko"),r=$("#btn-lang-en");s.on("click",function(e){return e.preventDefault(),$body.find(".lang-ko").removeClass("d-none"),$body.find(".lang-en").addClass("d-none"),r.removeClass("active"),$(this).addClass("active"),!1}),r.on("click",function(e){return e.preventDefault(),$body.find(".lang-en").removeClass("d-none"),$body.find(".lang-ko").addClass("d-none"),s.removeClass("active"),$(this).addClass("active"),!1}),$("#custom-form-toggle").on("click",function(){$("#customize").toggleClass("drawer-open")});var c=$(".collapse");c.on("show.bs.collapse",function(){var e=$(this).attr("id");$("a[href='#"+e+"']").addClass("active")}),c.on("hide.bs.collapse",function(){var e=$(this).attr("id");$("a[href='#"+e+"']").removeClass("active")});var l=$("#my-blogs-toggler"),u=$("#my-blogs");$(document).on("click",function(e){var t=$(e.target);0<t.closest("#my-blogs").length||0<t.closest("#my-blogs-toggler").length||(l.removeClass("in"),u.hide())}),l.on("click",function(){return l.toggleClass("in"),u.toggle(),!1}),$("form[method=post]:not([data-disable-ajax])").on("submit",function(e){e.preventDefault();var n=$(this),o=n.attr("data-success-return-url"),i=n.attr("data-failure-return-url"),t=n.find(".btn-loading");0<t.length&&t.loading(!0);var s=n.attr("action").toLowerCase(),r=n.attr("method").toLowerCase();return n.ajaxSubmit({type:"POST",dataType:"json",success:function(e){!function(e){if("success"===e.status){"/api/auth/signup"===s?("function"==typeof fbq&&fbq("trackCustom","SignUp",{}),"function"==typeof kakaoPixel&&kakaoPixel("4969140283302627999").completeRegistration("SIGN_UP"),"undefined"!=typeof dataLayer&&dataLayer.push({user_agent:navigator.userAgent,event:"EMAIL_SIGN_UP"})):"/api/auth/login"===s?("function"==typeof fbq&&fbq("trackCustom","SignIn",{}),"function"==typeof kakaoPixel&&kakaoPixel("4969140283302627999").viewContent({tag:"SIGN_IN"}),"undefined"!=typeof dataLayer&&dataLayer.push({user_agent:navigator.userAgent,event:"EMAIL_SIGN_IN"})):"/api/blog"===s&&"post"===r&&("function"==typeof fbq&&fbq("trackCustom","BlogAdded",{}),"function"==typeof kakaoPixel&&kakaoPixel("4969140283302627999").completeRegistration("BLOG_ADDED"),"undefined"!=typeof dataLayer&&dataLayer.push({user_agent:navigator.userAgent,event:"BLOG_ADDED"}));var t="",a=n.attr("data-success-message");if(void 0!==a&&!1!==a||(a=e.message),""!==a)alertPostype(a,function(){if(void 0!==o&&!1!==o&&(t=o),e.success_return_url&&(t=e.success_return_url),"reload"===t||""===t)window.history.go(0);else{if("not_reload"===e.success_return_url)return!1;location.href=t}});else if(void 0!==o&&!1!==o&&(t=o),e.success_return_url&&(t=e.success_return_url),"reload"===t||""===t)window.history.go(0);else{if("not_reload"===e.success_return_url)return;location.href=t}}else"no-activation"===e.status||"no-permission"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):"failure"===e.status&&e.message&&alertPostype(e.message,function(){void 0!==i&&!1!==i?location.href=i:e.failure_return_url?location.href=e.failure_return_url:e.data&&n.find("[name="+e.data+"]").one("focus",function(){var e=$(this),t=n.find("[for="+e.attr("id")+"]"),a=(a=$("header").filter(function(){return"fixed"==$(this).css("position")}).height())||0;0<t.length&&t.offset().top<e.offset().top&&(e=t),$("html, body").animate({scrollTop:e.offset().top-a},800)}).trigger("focus")})}(e)},error:function(e,t,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){0<t.length&&t.loading(!1)}}),!1});var d,p=$("#notification-type");0<p.length&&(p.on("change",function(){$(this).parents("form").submit()}),$(".btn-read-noti").on("click",function(){var t=$(this),e=t.attr("data-notification-id");$.ajax({url:"/api/notification/check",type:"post",dataType:"json",data:"notification_id="+e,success:function(e){"success"===e.status?(t.parents(".noti-item").removeClass("unread").addClass("read"),t.remove()):alertPostype(e.message)}})}),$(".btn-delete-noti").on("click",function(){var t=$(this),e=t.attr("data-notification-id");$.ajax({url:"/api/notification/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?t.parents(".noti-item").remove():alertPostype(e.message)}})})),$(".btn-delete-purchase-item").on("click",function(){var e=$(this).attr("data-support-id");confirmPostype("해당 포스트를 구매 항목에서 삭제하시겠습니까?",function(){$.ajax({url:"/api/support/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),$(".btn-delete-view").on("click",function(){var e=$(this).attr("data-post-id");confirmPostype("해당 포스트를 최근 본 포스트 내역에서 삭제하시겠습니까?",function(){$.ajax({url:"/api/view/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),0<$("#search-tools").length&&(d=$("#search-options-wrapper")).on("click",".dropdown-item",function(e){var t=$(this).find("input");return t.is(":checked")?t.prop("checked",!1):t.prop("checked",!0),"paid"===t.attr("name")&&(t.is(":checked")?(d.find("input[name=price_min]").removeAttr("disabled"),d.find("input[name=price_max]").removeAttr("disabled")):(d.find("input[name=price_min]").attr("disabled","disabled"),d.find("input[name=price_max]").attr("disabled","disabled"))),e.preventDefault(),!1}),$(".help .col-main .nav .nav-link").click(function(){var e=$(this).attr("class").split(" ")[1];$(document).find(".help .panel").hide(),$(document).find(".help .panel."+e).removeClass("hidden"),$(document).find(".help .panel."+e).show(),$(this).parent(".nav-item").siblings().find(".nav-link").removeClass("active"),$(this).addClass("active")}),$("#btn-delete-account").on("click",function(){return confirmPostype("탈퇴하시겠습니까? 모든 프로필, 블로그, 활동 내역이 삭제되며 복구할 수 없습니다.",function(){f.submit()}),!1});var f=$("#form-delete-account");f.on("click","input[name='delete_reason']",function(){$("#etc-form").hide()}),f.on("click","input[value='8']",function(){$("#etc-form").show()});var m=$("#btn-profile-delete"),h=$("#form-profile-delete");m.length&&m.on("click",function(){confirmPostype("프로필을 삭제하시겠습니까? 해당 프로필에 연동된 포스타입, 포스트, 구독, 좋아요, 알림, 댓글, 메시지 정보가 함께 삭제되니 주의하시기 바랍니다.",function(){h.submit()})});var g,y,v,b,w,_,k,C,P,x,j=$("#pay-form");function T(){var e=j.find("[name=pay_method1]:checked").val();"point_voucher"===e?(_.show(),k.hide(),C.hide()):"etc"===e?(_.hide(),k.show(),C.hide()):"easy_pay"===e?(k.hide(),_.hide(),C.show()):(k.hide(),_.hide(),C.hide()),"etc"!==e?P.val(e):P.val(x.val())}0<j.length&&(g=j.find("#btn-submit"),y=$("#btn-add-easy-pay"),v=$("#easy-pay"),y.on("click",function(){v.val("1"),j.submit(),setTimeout(function(){v.val("0")},1e3)}),$("#btn-delete-easy-pay").on("click",function(){var e=j.find("[name=bill_id]").val();confirmPostype("등록된 카드를 삭제하시겠습니까?",function(){$.ajax({url:"/payment/deleteEasyPay/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):alertPostype(e.message)}})})}),b=j.find("[name=pay_method1]"),w=j.find("[name=product_id]"),_=$("#coupon-code-wrapper"),k=$("#etc-wrapper"),C=$("#easy-payment-form"),P=$("#pay-method-value"),x=$("#pay-method2"),T(),w.on("click",function(){T()}),b.on("click",function(){T()}),x.on("change",function(){T()}),j.off("submit"),j.submit(function(){return g.loading(!0),j.ajaxSubmit({url:"/payment/invoice",type:"GET",dataType:"json",success:function(e){var t,a,n;"success"===e.status&&null===e.data?alertPostype(e.message,function(){location.href=e.return_url}):"success"===e.status&&e.data.pay?"paypal"===e.data.pay.pay_method?((t=$("#paypal-form")).off("submit"),t.attr("action",e.data.return_url),t.find("[name=business]").val(e.data.recv_mail),t.find("[name=item_name]").val(e.data.pay.good_name),t.find("[name=invoice]").val(e.data.pay.pay_id),t.find("[name=amount]").val(e.data.price),t.submit()):"toss"===e.data.pay.pay_method||"bank"===e.data.pay.pay_method||"kakaopay"===e.data.pay.pay_method||"virtual_account"===e.data.pay.pay_method||"card"===e.data.pay.pay_method||"card_bill"===e.data.pay.pay_method||"kakaopay_membership_bill"===e.data.pay.pay_method||"kakaopay_blog_premium_bill"===e.data.pay.pay_method||"paypal_bill"===e.data.pay.pay_method?location.href=e.data.return_url:"easy_pay"===e.data.pay.pay_method?alertPostype(e.message,function(){location.href=e.data.return_url}):(a="danal","paypal"===(n=e.data.pay.pay_method)?a="paypal":"kakaopay"===n?a="kakaopay":"bank"===n?n="trans":"virtual_account"===n&&(n="vbank"),IMP.request_pay({pg:a,pay_method:n,merchant_uid:e.data.pay.pay_id,name:e.data.pay.good_name,amount:e.data.price,tax_free:e.data.price,currenty:e.data.currency,buyer_email:e.data.pay.email,buyer_name:e.data.pay.name,buyer_tel:e.data.pay.mobile,buyer_addr:null,buyer_postcode:null,cash_receipt:!1,display:{card_quota:[]},biz_num:"7868600336",m_redirect_url:postypeUrl+"/payment/complete"},function(e){e.success?$.ajax({url:"/payment/complete",type:"post",dataType:"json",data:"merchant_uid="+e.merchant_uid,success:function(e){var t;"success"===e.status?(t=e.success_return_url,alertPostype(e.message,function(){location.href=t})):alertPostype(e.message)}}):alertPostype(e.error_msg)})):"no-activation"===e.status?e.message&&confirmPostype(e.message,function(){location.href=e.failure_return_url}):alertPostype(e.message)},error:function(e,t,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){g.loading(!1)}}),!1}));var D,L=$("#voucher-code-wrapper");0<L.length&&(D=$("#contact-wrapper"),$("input[name=pay_method]").on("change",function(){"voucher"===$("input[name=pay_method]:checked").val()?(L.show(),D.hide()):(L.hide(),D.show())})),$(document).on("change","#upload-image",function(){var e=$(this),t=e.parents("form"),a=e.get(0);return 10485760<("Microsoft Internet Explorer"===navigator.appName?new ActiveXObject("Scripting.FileSystemObject").getFile(a.value).size:a.files[0].size)?(alertPostype("사진은 10MB 이내로 등록 가능합니다."),$("html").hasClass("ie")?e.replaceWith(e.clone()):e.val("")):(showLoading(),t.ajaxSubmit({url:"/file/upload",dataType:"json",type:"post",success:function(e){"success"===e.status?(t.find("input[name=file_id]").val(e.data[0].file_id),t.find("input[name=file_delete]").val(""),$("#uploaded-image").attr("src",e.data[0].thumbnail).removeClass("d-none").addClass("d-flex")):"failure"===e.status&&alertPostype(e.message)},complete:function(){$("html").hasClass("ie")?e.replaceWith(e.clone()):e.val(""),hideLoading()}})),!1}),$("#btn-delete-profile-photo").on("click",function(){$(this).parents("form").find("input[name=file_id]").val(""),$(this).parents("form").find("input[name=file_delete]").val("1"),$("#uploaded-image").addClass("d-none").removeClass("d-flex")}),$.datetimepicker.setLocale("ko"),$("#birth").datetimepicker({format:"Y.m.d",timepicker:!1}),$("#certificate-id-birthdate, #certificate-id-expirydate").datetimepicker({format:"Y.m.d",timepicker:!1,scrollInput:!1}),$("#id_file").change(function(){var e=$(this);return e.parents("form").ajaxSubmit({url:"/account/uploadID",dataType:"json",type:"post",success:function(e){"success"==e.status?location.reload():"failure"==e.status&&alertPostype(e.message)},complete:function(){$("html").hasClass("ie")?e.replaceWith(e.clone()):e.val("")}}),!1});var S,A,I,q,M=$("#business-type-group");0<M.length&&(S=$("#business-1"),A=$("#business-2"),M.on("click","button",function(){var e=$(this),t=e.attr("data-type");M.find("button").removeClass("active"),e.addClass("active"),$("input[name=business_type]").val(t),"none"===t?(S.show(),A.hide()):(S.hide(),A.show())}),I=$("#tax_type"),q=$("#tax-rate"),I.on("change",function(){"taxfree"===I.val()?q.hide():q.show()}));var N=$("#auto-withdrawal");N.on("change",function(e){var t=0;return N.is(":checked")&&(t=1),$.ajax({url:"/api/user/auto_withdrawal",type:"post",dataType:"json",data:"auto_withdrawal="+t,success:function(e){alertPostype(e.message)}}),e.preventDefault(),!1});var O=$("#calculate-request-date");0<O.length&&(O.on("change",function(){O.closest("form").submit()}),$("#btn-calculate-download").on("click",function(){var e,t=O.val();"all"===t?alertPostype("출금 내역 다운로드는 연도를 선택한 후 이용이 가능합니다."):((e=$("#calculate-download")).find("input[name=year]").val(t),e.off("submit"),e.submit())}));var U,E,G,z,W,B,F=$("#modal-identification"),H=$("#btn-identify-next"),Q=$("#btn-certificate-id");function R(){U.prop("checked")&&E.prop("checked")&&G.prop("checked")&&z.prop("checked")&&W.prop("checked")?H.removeAttr("disabled"):H.attr("disabled","disabled")}0<H.length&&(U=$("#modal-identification-agreement-1"),E=$("#modal-identification-agreement-2"),G=$("#modal-identification-agreement-3"),z=$("#modal-identification-agreement-4"),W=$("#modal-identification-agreement-5"),F.on("shown.bs.modal",function(){R()}),B=$("#btn-identify-back"),$("#modal-identification-agreement-1,#modal-identification-agreement-2,#modal-identification-agreement-3,#modal-identification-agreement-4,#modal-identification-agreement-5").on("change",function(){R()}),H.on("click",function(e){return e.preventDefault(),$("#identify-step-1").removeClass("active show"),$("#identify-step-2").addClass("active show"),!1}),B.on("click",function(e){return e.preventDefault(),$("#identify-step-2").removeClass("active show"),$("#identify-step-1").addClass("active show"),!1}),Q.on("click",function(e){return e.preventDefault(),confirmPostype(Q.data("confirm"),function(){location.href=Q.attr("href")}),!1})),0<$("#btn-sign-up-email, #btn-sign-in-email").length&&("#email"===location.hash&&($("#sign-up-email").addClass("show active"),$("#sign-up-options").removeClass("show active"),$("#sign-in-email").addClass("show active"),$("#sign-in-options").removeClass("show active")),$("#btn-sign-up-email").on("click",function(e){return e.preventDefault(),$("#sign-up-email").addClass("show active"),$("#sign-up-options").removeClass("show active"),!1}),$("#btn-sign-up-options").on("click",function(e){return e.preventDefault(),$("#sign-up-options").addClass("show active"),$("#sign-up-email").removeClass("show active"),!1}),$("#btn-sign-in-email").on("click",function(e){return e.preventDefault(),$("#sign-in-email").addClass("show active"),$("#sign-in-options").removeClass("show active"),!1}),$("#btn-sign-in-options").on("click",function(e){return e.preventDefault(),$("#sign-in-options").addClass("show active"),$("#sign-in-email").removeClass("show active"),!1}));var Y,X=$("#mobile-submit-form");0<X.length&&(Y=!1,X.off("submit"),X.on("submit",function(){if(!Y){var e=X.find("button");return e.loading(!0),X.ajaxSubmit({url:"/certificate/mobileCheck",type:"POST",dataType:"json",success:function(e){"success"===e.status?(Y=!0,X.submit()):alertPostype(e.message)},error:function(e,t,a){alertPostype("code:"+e.status+"\nmessage:"+e.responseText+"\nerror:"+a)},complete:function(){e.loading(!1)}}),!1}})),$(".btn-block-blog").on("click",function(e){e.preventDefault();var t=$(this);return confirmPostype("해당 블로그를 차단하시겠습니까?",function(){var e=t.attr("data-blog-id");$.ajax({url:postypeUrl+"/api/blog_block",type:"post",dataType:"json",data:"blog_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):"no-permission"===e.status?0<$("#easy-login").length?$("#easy-login").modal("show"):setTimeout(function(){confirmPostype(e.message,function(){location.href=postypeUrl+"/login"})},300):alertPostype(e.message)}})}),!1}),$(".btn-delete-blog-block").on("click",function(){var t=$(this);confirmPostype("차단을 해제하시겠습니까?",function(){var e=t.attr("data-blog-id");$.ajax({url:postypeUrl+"/api/blog_block/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):"failure"===e.status&&alertPostype(e.message,function(){})},complete:function(){}})})}),$(".btn-delete-tag-block").on("click",function(){var t=$(this);confirmPostype("차단을 해제하시겠습니까?",function(){var e=t.attr("data-tag");$.ajax({url:postypeUrl+"/api/tag_block/"+e,type:"delete",dataType:"json",success:function(e){"success"===e.status?alertPostype(e.message,function(){window.history.go(0)}):"failure"===e.status&&alertPostype(e.message,function(){})},complete:function(){}})})}),$("#btn-welcoming-start").click(function(){var e=$("#verify-email");return $("html, body").animate({scrollTop:e.offset().top-80},500),!1}),$('[data-toggle="popover"]').popover(),$("#btn-blog-membership-leave").on("click",function(){var e=$(this).attr("data-blog-membership-id");return confirmPostype("멤버십 가입을 해지하시겠습니까?",function(){$.ajax({url:"/api/blog_membership/leave",type:"post",dataType:"json",data:"blog_membership_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){location.href="/membership"}):alertPostype(e.message)}})}),!1}),$(".btn-blog-membership-cancel").on("click",function(){var e=$(this).attr("data-blog-membership-id");return confirmPostype("멤버십 가입 신청을 취소하시겠습니까?",function(){$.ajax({url:"/api/blog_membership/leave",type:"post",dataType:"json",data:"blog_membership_id="+e,success:function(e){"success"===e.status?alertPostype(e.message,function(){location.href="/membership"}):alertPostype(e.message)}})}),!1}),$(".btn-point-pay-cancel").on("click",function(){var e=$(this),t=e.attr("data-pay-id");return confirmPostype("포인트 충전 결제를 취소하시겠습니까?",function(){e.loading(!0),$.ajax({url:"/pay/cancel",type:"post",dataType:"json",data:"pay_id="+t,success:function(e){"success"===e.status?alertPostype(e.message,function(){location.reload()}):alertPostype(e.message)},complete:function(){e.loading(!1)}})}),!1});var J,K,V,Z,ee=$("#modal-webpush");if(0<ee.length)try{"serviceWorker"in navigator&&"PushManager"in window&&"default"===Notification.permission&&(Cookies.get("wpnn")||(ee.show(),ee.on("click",".not-now",function(e){e.preventDefault(),ee.hide(),Cookies.set("wpnn",1,{expires:365,path:"/"})})))}catch(e){}if($body.is(".pt-auth-login"))try{-1<location.search.indexOf("?o=wp")&&$(".msg-webpush-need-login").show(),"object"==typeof(J=parseQueryString())&&"return_url"in J?$('a[href^="/auth/"][href$="/login"]').each(function(){$(this).attr("href",$(this).attr("href")+"?return_url="+J.return_url)}):(0<(K=$('form[action="/api/auth/login"]')).length&&(V=K.attr("data-success-return-url")),V&&$('a[href^="/auth/"][href$="/login"]').each(function(){$(this).attr("href",$(this).attr("href")+"?return_url="+V)}))}catch(e){}if($body.is(".pt-auth-sign_up"))try{"object"==typeof(J=parseQueryString())&&"return_url"in J?$('a[href^="/auth/"][href$="/signup"]').each(function(){$(this).attr("href",$(this).attr("href")+"?return_url="+J.return_url)}):(0<(K=$('form[action="/api/auth/signup"]')).length&&(V=K.find('input[name="return_url"]').val()),V&&$('a[href^="/auth/"][href$="/signup"]').each(function(){$(this).attr("href",$(this).attr("href")+"?return_url="+V)}))}catch(e){}$("#btn-block-referral").on("change",function(){var e=0;$(this).prop("checked")&&(e=1),$.ajax({url:"/api/user/block_referral",type:"post",dataType:"json",data:"block_referral="+e,success:function(e){}})}),$newsletterForm=$("#newsletter-subscription-form"),0<$newsletterForm.length&&(Z=!1,0<document.referrer.indexOf("/login")&&($("html, body").animate({scrollTop:$("#newsletter-anchor").offset().top},0),Z=!0),$("#newsletter-subscription-form input[type=text]").length<1&&(Z=!0),$(".collapse-btn").on("click",function(){$subscriptionCollapse=$("#subscription-collapse"),$subscriptionCollapse.hasClass("show")?$(this).children("i").removeClass("rotate"):$(this).children("i").addClass("rotate")}),$("#newsletter-subscription-form input").on("click",function(){!1===Z&&($newsletterConfirmModal=$("#modal-newsletter-confirm"),$newsletterConfirmModal.modal("show"),Z=!0)}),$("#newsletter-subscription-form input").on("change",function(){$this=$("#newsletter-subscription-form input");var a="";$this.each(function(e,t){"checkbox"===t.type&&(t.checked||"ad_agreement"!=t.name||(a="마케팅 메시지 수신에 동의해주세요."),t.checked||"subscription_agreement"!=t.name||(a="이메일 수집에 동의해주세요.")),"text"===t.type&&t.value.length<1&&(a="메일 수신에 필요한 정보를 입력해주세요.")}),$("#subscription-agreement-notice").children("p").text(a)}),$("#modal-newsletter-confirm-yes").on("click",function(){location.href=$("#modal-newsletter-confirm-yes").attr("data-url")}),$newsletterArticle=$("#newsletter"),0<$newsletterArticle.length&&($(".newsletter .newsletter-img-head-letter").each(function(){$(this).offset().top+$(this).outerHeight()<$(window).scrollTop()+$(window).height()&&$(".newsletter .newsletter-img-head-letter").animate({opacity:"1",right:"-20px"},700)}),$(document).on("scroll",function(){$(".newsletter .newsletter-feature-img").each(function(){$(this).offset().top+$(this).outerHeight()<$(window).scrollTop()+$(window).height()&&($(".newsletter .newsletter-img-feature-magnifying-glass").animate({opacity:"1",left:"-50px"},800),$(".newsletter .newsletter-img-feature-ruler").animate({opacity:"1",left:"50px","z-index":"10"},800))})})))});
require("./umd/util.js"),require("./umd/alert.js"),require("./umd/button.js"),require("./umd/carousel.js"),require("./umd/collapse.js"),require("./umd/dropdown.js"),require("./umd/modal.js"),require("./umd/scrollspy.js"),require("./umd/tab.js"),require("./umd/tooltip.js"),require("./umd/popover.js");
!function(h,l,o,a){function i(t,e){this.settings=null,this.options=h.extend({},i.Defaults,e),this.$element=h(t),this.drag=h.extend({},s),this.state=h.extend({},n),this.e=h.extend({},r),this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._invalidated={},this._pipe=[],h.each(i.Plugins,h.proxy(function(t,e){this._plugins[t[0].toLowerCase()+t.slice(1)]=new e(this)},this)),h.each(i.Pipe,h.proxy(function(t,e){this._pipe.push({filter:e.filter,run:h.proxy(e.run,this)})},this)),this.setup(),this.initialize()}function c(t){if(t.touches!==a)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(t.touches===a){if(t.pageX!==a)return{x:t.pageX,y:t.pageY};if(t.pageX===a)return{x:t.clientX,y:t.clientY}}}function t(t){var e,i,s=o.createElement("div"),n=t;for(e in n)if(i=n[e],void 0!==s.style[i])return s=null,[i,e];return[!1]}var s={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,offsetX:0,offsetY:0,distance:null,startTime:0,endTime:0,updatedX:0,targetEl:null},n={isTouch:!1,isScrolling:!1,isSwiping:!1,direction:!1,inMotion:!1},r={_onDragStart:null,_onDragMove:null,_onDragEnd:null,_transitionEnd:null,_resizer:null,_responsiveCall:null,_goToLoop:null,_checkVisibile:null};i.Defaults={items:3,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:l,responsiveClass:!1,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",themeClass:"owl-theme",baseClass:"owl-carousel",itemClass:"owl-item",centerClass:"center",activeClass:"active"},i.Width={Default:"default",Inner:"inner",Outer:"outer"},i.Plugins={},i.Pipe=[{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var t=this._clones;(this.$stage.children(".cloned").length!==t.length||!this.settings.loop&&0<t.length)&&(this.$stage.children(".cloned").remove(),this._clones=[])}},{filter:["items","settings"],run:function(){for(var t=this._clones,e=this._items,i=this.settings.loop?t.length-Math.max(2*this.settings.items,4):0,s=0,n=Math.abs(i/2);s<n;s++)0<i?(this.$stage.children().eq(e.length+t.length-1).remove(),t.pop(),this.$stage.children().eq(0).remove(),t.pop()):(t.push(t.length/2),this.$stage.append(e[t[t.length-1]].clone().addClass("cloned")),t.push(e.length-1-(t.length-1)/2),this.$stage.prepend(e[t[t.length-1]].clone().addClass("cloned")))}},{filter:["width","items","settings"],run:function(){var t,e,i,s=this.settings.rtl?1:-1,n=(this.width()/this.settings.items).toFixed(3),o=0;for(this._coordinates=[],e=0,i=this._clones.length+this._items.length;e<i;e++)t=this._mergers[this.relative(e)],t=this.settings.mergeFit&&Math.min(t,this.settings.items)||t,o+=(this.settings.autoWidth?this._items[this.relative(e)].width()+this.settings.margin:n*t)*s,this._coordinates.push(o)}},{filter:["width","items","settings"],run:function(){var t,e,i=(this.width()/this.settings.items).toFixed(3),s={width:Math.abs(this._coordinates[this._coordinates.length-1])+2*this.settings.stagePadding,"padding-left":this.settings.stagePadding||"","padding-right":this.settings.stagePadding||""};if(this.$stage.css(s),(s={width:this.settings.autoWidth?"auto":i-this.settings.margin})[this.settings.rtl?"margin-left":"margin-right"]=this.settings.margin,!this.settings.autoWidth&&0<h.grep(this._mergers,function(t){return 1<t}).length)for(t=0,e=this._coordinates.length;t<e;t++)s.width=Math.abs(this._coordinates[t])-Math.abs(this._coordinates[t-1]||0)-this.settings.margin,this.$stage.children().eq(t).css(s);else this.$stage.children().css(s)}},{filter:["width","items","settings"],run:function(t){t.current&&this.reset(this.$stage.children().index(t.current))}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var t,e,i=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,n=this.coordinates(this.current())+s,o=n+this.width()*i,r=[],a=0,h=this._coordinates.length;a<h;a++)t=this._coordinates[a-1]||0,e=Math.abs(this._coordinates[a])+s*i,(this.op(t,"<=",n)&&this.op(t,">",o)||this.op(e,"<",n)&&this.op(e,">",o))&&r.push(a);this.$stage.children("."+this.settings.activeClass).removeClass(this.settings.activeClass),this.$stage.children(":eq("+r.join("), :eq(")+")").addClass(this.settings.activeClass),this.settings.center&&(this.$stage.children("."+this.settings.centerClass).removeClass(this.settings.centerClass),this.$stage.children().eq(this.current()).addClass(this.settings.centerClass))}}],i.prototype.initialize=function(){if(this.trigger("initialize"),this.$element.addClass(this.settings.baseClass).addClass(this.settings.themeClass).toggleClass("owl-rtl",this.settings.rtl),this.browserSupport(),this.settings.autoWidth&&!0!==this.state.imagesLoaded){var t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:a,i=this.$element.children(e).width();if(t.length&&i<=0)return this.preloadAutoWidthImages(t),!1}this.$element.addClass("owl-loading"),this.$stage=h("<"+this.settings.stageElement+' class="owl-stage"/>').wrap('<div class="owl-stage-outer">'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this._width=this.$element.width(),this.refresh(),this.$element.removeClass("owl-loading").addClass("owl-loaded"),this.eventsCall(),this.internalEvents(),this.addTriggerableEvents(),this.trigger("initialized")},i.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,i=-1,s=null;t?(h.each(t,function(t){t<=e&&i<t&&(i=Number(t))}),delete(s=h.extend({},this.options,t[i])).responsive,s.responsiveClass&&this.$element.attr("class",function(t,e){return e.replace(/\b owl-responsive-\S+/g,"")}).addClass("owl-responsive-"+i)):s=h.extend({},this.options),null!==this.settings&&this._breakpoint===i||(this.trigger("change",{property:{name:"settings",value:s}}),this._breakpoint=i,this.settings=s,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}}))},i.prototype.optionsLogic=function(){this.$element.toggleClass("owl-center",this.settings.center),this.settings.loop&&this._items.length<this.settings.items&&(this.settings.loop=!1),this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},i.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=h("<"+this.settings.itemElement+"/>").addClass(this.settings.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},i.prototype.update=function(){for(var t=0,e=this._pipe.length,i=h.proxy(function(t){return this[t]},this._invalidated),s={};t<e;)(this._invalidated.all||0<h.grep(this._pipe[t].filter,i).length)&&this._pipe[t].run(s),t++;this._invalidated={}},i.prototype.width=function(t){switch(t=t||i.Width.Default){case i.Width.Inner:case i.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},i.prototype.refresh=function(){if(0===this._items.length)return!1;(new Date).getTime(),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$stage.addClass("owl-refresh"),this.update(),this.$stage.removeClass("owl-refresh"),this.state.orientation=l.orientation,this.watchVisibility(),this.trigger("refreshed")},i.prototype.eventsCall=function(){this.e._onDragStart=h.proxy(function(t){this.onDragStart(t)},this),this.e._onDragMove=h.proxy(function(t){this.onDragMove(t)},this),this.e._onDragEnd=h.proxy(function(t){this.onDragEnd(t)},this),this.e._onResize=h.proxy(function(t){this.onResize(t)},this),this.e._transitionEnd=h.proxy(function(t){this.transitionEnd(t)},this),this.e._preventClick=h.proxy(function(t){this.preventClick(t)},this)},i.prototype.onThrottledResize=function(){l.clearTimeout(this.resizeTimer),this.resizeTimer=l.setTimeout(this.e._onResize,this.settings.responsiveRefreshRate)},i.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!this.trigger("resize").isDefaultPrevented()&&(this._width=this.$element.width(),this.invalidate("width"),this.refresh(),void this.trigger("resized"))))},i.prototype.eventsRouter=function(t){var e=t.type;"mousedown"===e||"touchstart"===e?this.onDragStart(t):"mousemove"===e||"touchmove"===e?this.onDragMove(t):"mouseup"!==e&&"touchend"!==e&&"touchcancel"!==e||this.onDragEnd(t)},i.prototype.internalEvents=function(){var t=("ontouchstart"in l||navigator.msMaxTouchPoints,l.navigator.msPointerEnabled);this.settings.mouseDrag?(this.$stage.on("mousedown",h.proxy(function(t){this.eventsRouter(t)},this)),this.$stage.on("dragstart",function(){return!1}),this.$stage.get(0).onselectstart=function(){return!1}):this.$element.addClass("owl-text-select-on"),this.settings.touchDrag&&!t&&this.$stage.on("touchstart touchcancel",h.proxy(function(t){this.eventsRouter(t)},this)),this.transitionEndVendor&&this.on(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd,!1),!1!==this.settings.responsive&&this.on(l,"resize",h.proxy(this.onThrottledResize,this))},i.prototype.onDragStart=function(t){var e,i,s,n=t.originalEvent||t||l.event;if(3===n.which||this.state.isTouch)return!1;if("mousedown"===n.type&&this.$stage.addClass("owl-grab"),this.trigger("drag"),this.drag.startTime=(new Date).getTime(),this.speed(0),this.state.isTouch=!0,this.state.isScrolling=!1,this.state.isSwiping=!1,this.drag.distance=0,e=c(n).x,i=c(n).y,this.drag.offsetX=this.$stage.position().left,this.drag.offsetY=this.$stage.position().top,this.settings.rtl&&(this.drag.offsetX=this.$stage.position().left+this.$stage.width()-this.width()+this.settings.margin),this.state.inMotion&&this.support3d)s=this.getTransformProperty(),this.drag.offsetX=s,this.animate(s),this.state.inMotion=!0;else if(this.state.inMotion&&!this.support3d)return this.state.inMotion=!1;this.drag.startX=e-this.drag.offsetX,this.drag.startY=i-this.drag.offsetY,this.drag.start=e-this.drag.startX,this.drag.targetEl=n.target||n.srcElement,this.drag.updatedX=this.drag.start,"IMG"!==this.drag.targetEl.tagName&&"A"!==this.drag.targetEl.tagName||(this.drag.targetEl.draggable=!1),h(o).on("mousemove.owl.dragEvents mouseup.owl.dragEvents touchmove.owl.dragEvents touchend.owl.dragEvents",h.proxy(function(t){this.eventsRouter(t)},this))},i.prototype.onDragMove=function(t){var e,i,s,n,o,r;this.state.isTouch&&(this.state.isScrolling||(i=c(e=t.originalEvent||t||l.event).x,s=c(e).y,this.drag.currentX=i-this.drag.startX,this.drag.currentY=s-this.drag.startY,this.drag.distance=this.drag.currentX-this.drag.offsetX,this.drag.distance<0?this.state.direction=this.settings.rtl?"right":"left":0<this.drag.distance&&(this.state.direction=this.settings.rtl?"left":"right"),this.settings.loop?this.op(this.drag.currentX,">",this.coordinates(this.minimum()))&&"right"===this.state.direction?this.drag.currentX-=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length):this.op(this.drag.currentX,"<",this.coordinates(this.maximum()))&&"left"===this.state.direction&&(this.drag.currentX+=(this.settings.center&&this.coordinates(0))-this.coordinates(this._items.length)):(n=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),o=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),r=this.settings.pullDrag?this.drag.distance/5:0,this.drag.currentX=Math.max(Math.min(this.drag.currentX,n+r),o+r)),(8<this.drag.distance||this.drag.distance<-8)&&(e.preventDefault!==a?e.preventDefault():e.returnValue=!1,this.state.isSwiping=!0),this.drag.updatedX=this.drag.currentX,(16<this.drag.currentY||this.drag.currentY<-16)&&!1===this.state.isSwiping&&(this.state.isScrolling=!0,this.drag.updatedX=this.drag.start),this.animate(this.drag.updatedX)))},i.prototype.onDragEnd=function(t){var e,i;if(this.state.isTouch){if("mouseup"===t.type&&this.$stage.removeClass("owl-grab"),this.trigger("dragged"),this.drag.targetEl.removeAttribute("draggable"),this.state.isTouch=!1,this.state.isScrolling=!1,this.state.isSwiping=!1,0===this.drag.distance&&!0!==this.state.inMotion)return this.state.inMotion=!1;this.drag.endTime=(new Date).getTime(),e=this.drag.endTime-this.drag.startTime,(3<Math.abs(this.drag.distance)||300<e)&&this.removeClick(this.drag.targetEl),i=this.closest(this.drag.updatedX),this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(i),this.invalidate("position"),this.update(),this.settings.pullDrag||this.drag.updatedX!==this.coordinates(i)||this.transitionEnd(),this.drag.distance=0,h(o).off(".owl.dragEvents")}},i.prototype.removeClick=function(t){this.drag.targetEl=t,h(t).on("click.preventClick",this.e._preventClick),l.setTimeout(function(){h(t).off("click.preventClick")},300)},i.prototype.preventClick=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),h(t.target).off("click.preventClick")},i.prototype.getTransformProperty=function(){var t=l.getComputedStyle(this.$stage.get(0),null).getPropertyValue(this.vendorName+"transform");return!0!=(16===(t=t.replace(/matrix(3d)?\(|\)/g,"").split(",")).length)?t[4]:t[12]},i.prototype.closest=function(i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||h.each(o,h.proxy(function(t,e){return e-30<i&&i<e+30?s=t:this.op(i,"<",e)&&this.op(i,">",o[t+1]||e-n)&&(s="left"===this.state.direction?t+1:t),-1===s},this)),this.settings.loop||(this.op(i,">",o[this.minimum()])?s=i=this.minimum():this.op(i,"<",o[this.maximum()])&&(s=i=this.maximum())),s},i.prototype.animate=function(t){this.trigger("translate"),this.state.inMotion=0<this.speed(),this.support3d?this.$stage.css({transform:"translate3d("+t+"px,0px, 0px)",transition:this.speed()/1e3+"s"}):this.state.isTouch?this.$stage.css({left:t+"px"}):this.$stage.animate({left:t},this.speed()/1e3,this.settings.fallbackEasing,h.proxy(function(){this.state.inMotion&&this.transitionEnd()},this))},i.prototype.current=function(t){return t===a?this._current:0===this._items.length?a:(t=this.normalize(t),this._current!==t&&((e=this.trigger("change",{property:{name:"position",value:t}})).data!==a&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})),this._current);var e},i.prototype.invalidate=function(t){this._invalidated[t]=!0},i.prototype.reset=function(t){(t=this.normalize(t))!==a&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},i.prototype.normalize=function(t,e){var i=e?this._items.length:this._items.length+this._clones.length;return!h.isNumeric(t)||i<1?a:t=this._clones.length?(t%i+i)%i:Math.max(this.minimum(e),Math.min(this.maximum(e),t))},i.prototype.relative=function(t){return t=this.normalize(t),t-=this._clones.length/2,this.normalize(t,!0)},i.prototype.maximum=function(t){var e,i,s,n=0,o=this.settings;if(t)return this._items.length-1;if(!o.loop&&o.center)e=this._items.length-1;else if(o.loop||o.center)if(o.loop||o.center)e=this._items.length+o.items;else{if(!o.autoWidth&&!o.merge)throw"Can not detect maximum absolute position.";for(revert=o.rtl?1:-1,i=this.$stage.width()-this.$element.width();(s=this.coordinates(n))&&!(s*revert>=i);)e=++n}else e=this._items.length-o.items;return e},i.prototype.minimum=function(t){return t?0:this._clones.length/2},i.prototype.items=function(t){return t===a?this._items.slice():(t=this.normalize(t,!0),this._items[t])},i.prototype.mergers=function(t){return t===a?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},i.prototype.clones=function(i){function s(t){return t%2==0?n+t/2:e-(t+1)/2}var e=this._clones.length/2,n=e+this._items.length;return i===a?h.map(this._clones,function(t,e){return s(e)}):h.map(this._clones,function(t,e){return t===i?s(e):null})},i.prototype.speed=function(t){return t!==a&&(this._speed=t),this._speed},i.prototype.coordinates=function(t){var e=null;return t===a?h.map(this._coordinates,h.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[t-1]||0))/2*(this.settings.rtl?-1:1)):e=this._coordinates[t-1]||0,e)},i.prototype.duration=function(t,e,i){return Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},i.prototype.to=function(t,e){var i,s,n,o,r,a;this.settings.loop?(i=t-this.relative(this.current()),s=this.current(),r=(n=this.current())-(o=this.current()+i)<0,a=this._clones.length+this._items.length,o<this.settings.items&&!1==r?(s=n+this._items.length,this.reset(s)):o>=a-this.settings.items&&!0==r&&(s=n-this._items.length,this.reset(s)),l.clearTimeout(this.e._goToLoop),this.e._goToLoop=l.setTimeout(h.proxy(function(){this.speed(this.duration(this.current(),s+i,e)),this.current(s+i),this.update()},this),30)):(this.speed(this.duration(this.current(),t,e)),this.current(t),this.update())},i.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},i.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},i.prototype.transitionEnd=function(t){return(t===a||(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)===this.$stage.get(0)))&&(this.state.inMotion=!1,void this.trigger("translated"))},i.prototype.viewport=function(){var t;if(this.options.responsiveBaseElement!==l)t=h(this.options.responsiveBaseElement).width();else if(l.innerWidth)t=l.innerWidth;else{if(!o.documentElement||!o.documentElement.clientWidth)throw"Can not detect viewport width.";t=o.documentElement.clientWidth}return t},i.prototype.replace=function(t){this.$stage.empty(),this._items=[],t=t&&(t instanceof jQuery?t:h(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(h.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(+e.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)},this)),this.reset(h.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},i.prototype.add=function(t,e){e=e===a?this._items.length:this.normalize(e,!0),this.trigger("add",{content:t,position:e}),0===this._items.length||e===this._items.length?(this.$stage.append(t),this._items.push(t),this._mergers.push(+t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,+t.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")||1)),this.invalidate("items"),this.trigger("added",{content:t,position:e})},i.prototype.remove=function(t){(t=this.normalize(t,!0))!==a&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},i.prototype.addTriggerableEvents=function(){var i=h.proxy(function(e,i){return h.proxy(function(t){t.relatedTarget!==this&&(this.suppress([i]),e.apply(this,[].slice.call(arguments,1)),this.release([i]))},this)},this);h.each({next:this.next,prev:this.prev,to:this.to,destroy:this.destroy,refresh:this.refresh,replace:this.replace,add:this.add,remove:this.remove},h.proxy(function(t,e){this.$element.on(t+".owl.carousel",i(e,t+".owl.carousel"))},this))},i.prototype.watchVisibility=function(){function t(t){return 0<t.offsetWidth&&0<t.offsetHeight}t(this.$element.get(0))||(this.$element.addClass("owl-hidden"),l.clearInterval(this.e._checkVisibile),this.e._checkVisibile=l.setInterval(h.proxy(function(){t(this.$element.get(0))&&(this.$element.removeClass("owl-hidden"),this.refresh(),l.clearInterval(this.e._checkVisibile))},this),500))},i.prototype.preloadAutoWidthImages=function(i){var s,n,o=0,r=this;i.each(function(t,e){s=h(e),(n=new Image).onload=function(){o++,s.attr("src",n.src),s.css("opacity",1),o>=i.length&&(r.state.imagesLoaded=!0,r.initialize())},n.src=s.attr("src")||s.attr("data-src")||s.attr("data-src-retina")})},i.prototype.destroy=function(){for(var t in this.$element.hasClass(this.settings.themeClass)&&this.$element.removeClass(this.settings.themeClass),!1!==this.settings.responsive&&h(l).off("resize.owl.carousel"),this.transitionEndVendor&&this.off(this.$stage.get(0),this.transitionEndVendor,this.e._transitionEnd),this._plugins)this._plugins[t].destroy();(this.settings.mouseDrag||this.settings.touchDrag)&&(this.$stage.off("mousedown touchstart touchcancel"),h(o).off(".owl.dragEvents"),this.$stage.get(0).onselectstart=function(){},this.$stage.off("dragstart",function(){return!1})),this.$element.off(".owl"),this.$stage.children(".cloned").remove(),this.e=null,this.$element.removeData("owlCarousel"),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.unwrap()},i.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?i<t:t<i;case">":return s?t<i:i<t;case">=":return s?t<=i:i<=t;case"<=":return s?i<=t:t<=i}},i.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},i.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},i.prototype.trigger=function(t,e,i){var s={item:{count:this._items.length,index:this.current()}},n=h.camelCase(h.grep(["on",t,i],function(t){return t}).join("-").toLowerCase()),o=h.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),h.extend({relatedTarget:this},s,e));return this._supress[t]||(h.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(o)}),this.$element.trigger(o),this.settings&&"function"==typeof this.settings[n]&&this.settings[n].apply(this,o)),o},i.prototype.suppress=function(t){h.each(t,h.proxy(function(t,e){this._supress[e]=!0},this))},i.prototype.release=function(t){h.each(t,h.proxy(function(t,e){delete this._supress[e]},this))},i.prototype.browserSupport=function(){this.support3d=t(["perspective","webkitPerspective","MozPerspective","OPerspective","MsPerspective"])[0],this.support3d&&(this.transformVendor=t(["transform","WebkitTransform","MozTransform","OTransform","msTransform"])[0],this.transitionEndVendor=["transitionend","webkitTransitionEnd","transitionend","oTransitionEnd"][t(["transition","WebkitTransition","MozTransition","OTransition"])[1]],this.vendorName=this.transformVendor.replace(/Transform/i,""),this.vendorName=""!==this.vendorName?"-"+this.vendorName.toLowerCase()+"-":""),this.state.orientation=l.orientation},h.fn.owlCarousel=function(t){return this.each(function(){h(this).data("owlCarousel")||h(this).data("owlCarousel",new i(this,t))})},h.fn.owlCarousel.Constructor=i}(window.Zepto||window.jQuery,window,document),function(a,o){var e=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":a.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var e=this._core.settings,i=e.center&&Math.ceil(e.items/2)||e.items,s=e.center&&-1*i||0,n=(t.property&&t.property.value||this._core.current())+s,o=this._core.clones().length,r=a.proxy(function(t,e){this.load(e)},this);s++<i;)this.load(o/2+this._core.relative(n)),o&&a.each(this._core.clones(this._core.relative(n++)),r)},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(t){var e=this._core.$stage.children().eq(t),i=e&&e.find(".owl-lazy");!i||-1<a.inArray(e.get(0),this._loaded)||(i.each(a.proxy(function(t,e){var i,s=a(e),n=1<o.devicePixelRatio&&s.attr("data-src-retina")||s.attr("data-src");this._core.trigger("load",{element:s,url:n},"lazy"),s.is("img")?s.one("load.owl.lazy",a.proxy(function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:n},"lazy")},this)).attr("src",n):((i=new Image).onload=a.proxy(function(){s.css({"background-image":"url("+n+")",opacity:"1"}),this._core.trigger("loaded",{element:s,url:n},"lazy")},this),i.src=n)},this)),this._loaded.push(e.get(0)))},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(e){var i=function(t){this._core=t,this._handlers={"initialized.owl.carousel":e.proxy(function(){this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(t){this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(t){this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass)===this._core.$stage.children().eq(this._core.current())&&this.update()},this)},this._core.options=e.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){this._core.$stage.parent().height(this._core.$stage.children().eq(this._core.current()).height()).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,(window,document)),function(c,e,i){var s=function(t){this._core=t,this._videos={},this._playing=null,this._fullscreen=!1,this._handlers={"resize.owl.carousel":c.proxy(function(t){this._core.settings.video&&!this.isInFullScreen()&&t.preventDefault()},this),"refresh.owl.carousel changed.owl.carousel":c.proxy(function(){this._playing&&this.stop()},this),"prepared.owl.carousel":c.proxy(function(t){var e=c(t.content).find(".owl-video");e.length&&(e.css("display","none"),this.fetch(e,c(t.content)))},this)},this._core.options=c.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",c.proxy(function(t){this.play(t)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if(-1<(s=r.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else{if(!(-1<s[3].indexOf("vimeo")))throw new Error("Video URL not supported.");i="vimeo"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},s.prototype.thumbnail=function(e,t){function i(t){s=l.lazyLoad?'<div class="owl-video-tn '+h+'" '+a+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after('<div class="owl-video-play-icon"></div>')}var s,n,o=t.width&&t.height?'style="width:'+t.width+"px;height:"+t.height+'px;"':"",r=e.find("img"),a="src",h="",l=this._core.settings;return e.wrap('<div class="owl-video-wrapper"'+o+"></div>"),this._core.settings.lazyLoad&&(a="data-src",h="owl-lazy"),r.length?(i(r.attr(a)),r.remove(),!1):void("youtube"===t.type?(n="http://img.youtube.com/vi/"+t.id+"/hqdefault.jpg",i(n)):"vimeo"===t.type&&c.ajax({type:"GET",url:"http://vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t[0].thumbnail_large,i(n)}}))},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null},s.prototype.play=function(t){this._core.trigger("play",null,"video"),this._playing&&this.stop();var e,i,s=c(t.target||t.srcElement),n=s.closest("."+this._core.settings.itemClass),o=this._videos[n.attr("data-video")],r=o.width||"100%",a=o.height||this._core.$stage.height();"youtube"===o.type?e='<iframe width="'+r+'" height="'+a+'" src="http://www.youtube.com/embed/'+o.id+"?autoplay=1&v="+o.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===o.type&&(e='<iframe src="http://player.vimeo.com/video/'+o.id+'?autoplay=1" width="'+r+'" height="'+a+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),n.addClass("owl-video-playing"),this._playing=n,i=c('<div style="height:'+a+"px; width:"+r+'px" class="owl-video-frame">'+e+"</div>"),s.after(i)},s.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&c(t).parent().hasClass("owl-video-frame")&&(this._core.speed(0),this._fullscreen=!0),!(t&&this._fullscreen&&this._playing)&&(this._fullscreen?this._fullscreen=!1:!this._playing||this._core.state.orientation===e.orientation||(this._core.state.orientation=e.orientation,!1))},s.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},c.fn.owlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,window,document),function(r){var e=function(t){this.core=t,this.core.options=r.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":r.proxy(function(t){"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":r.proxy(function(t){this.swapping="translated"==t.type},this),"translate.owl.carousel":r.proxy(function(){this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){var t,e,i,s,n,o;1===this.core.settings.items&&this.core.support3d&&(this.core.speed(0),e=r.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),s=this.core.$stage.children().eq(this.next),n=this.core.settings.animateIn,o=this.core.settings.animateOut,this.core.current()!==this.previous&&(o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e)),n&&s.addClass("animated owl-animated-in").addClass(n).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e)))},e.prototype.clear=function(t){r(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.transitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},r.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,(window,document)),function(e,i,t){var s=function(t){this.core=t,this.core.options=e.extend({},s.Defaults,this.core.options),this.handlers={"translated.owl.carousel refreshed.owl.carousel":e.proxy(function(){this.autoplay()},this),"play.owl.autoplay":e.proxy(function(t,e,i){this.play(e,i)},this),"stop.owl.autoplay":e.proxy(function(){this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this.core.settings.autoplayHoverPause&&this.autoplay()},this)},this.core.$element.on(this.handlers)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype.autoplay=function(){this.core.settings.autoplay&&!this.core.state.videoPlay?(i.clearInterval(this.interval),this.interval=i.setInterval(e.proxy(function(){this.play()},this),this.core.settings.autoplayTimeout)):i.clearInterval(this.interval)},s.prototype.play=function(){return!0===t.hidden||this.core.state.isTouch||this.core.state.isScrolling||this.core.state.isSwiping||this.core.state.inMotion?void 0:!1===this.core.settings.autoplay?void i.clearInterval(this.interval):void this.core.next(this.core.settings.autoplaySpeed)},s.prototype.stop=function(){i.clearInterval(this.interval)},s.prototype.pause=function(){i.clearInterval(this.interval)},s.prototype.destroy=function(){var t,e;for(t in i.clearInterval(this.interval),this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(o){"use strict";var e=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":o.proxy(function(t){this._core.settings.dotsData&&this._templates.push(o(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"add.owl.carousel":o.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,0,o(t.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot"))},this),"remove.owl.carousel prepared.owl.carousel":o.proxy(function(t){this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"change.owl.carousel":o.proxy(function(t){var e,i,s;"position"!=t.property.name||this._core.state.revert||this._core.settings.loop||!this._core.settings.navRewind||(e=this._core.current(),i=this._core.maximum(),s=this._core.minimum(),t.data=t.property.value>i?i<=e?s:i:t.property.value<s?i:t.property.value)},this),"changed.owl.carousel":o.proxy(function(t){"position"==t.property.name&&this.draw()},this),"refreshed.owl.carousel":o.proxy(function(){this._initialized||(this.initialize(),this._initialized=!0),this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation")},this)},this._core.options=o.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navRewind:!0,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotData:!1,dotsSpeed:!1,dotsContainer:!1,controlsClass:"owl-controls"},e.prototype.initialize=function(){var t,e,i=this._core.settings;for(e in i.dotsData||(this._templates=[o("<div>").addClass(i.dotClass).append(o("<span>")).prop("outerHTML")]),i.navContainer&&i.dotsContainer||(this._controls.$container=o("<div>").addClass(i.controlsClass).appendTo(this.$element)),this._controls.$indicators=i.dotsContainer?o(i.dotsContainer):o("<div>").hide().addClass(i.dotsClass).appendTo(this._controls.$container),this._controls.$indicators.on("click","div",o.proxy(function(t){var e=o(t.target).parent().is(this._controls.$indicators)?o(t.target).index():o(t.target).parent().index();t.preventDefault(),this.to(e,i.dotsSpeed)},this)),t=i.navContainer?o(i.navContainer):o("<div>").addClass(i.navContainerClass).prependTo(this._controls.$container),this._controls.$next=o("<"+i.navElement+">"),this._controls.$previous=this._controls.$next.clone(),this._controls.$previous.addClass(i.navClass[0]).html(i.navText[0]).hide().prependTo(t).on("click",o.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next.addClass(i.navClass[1]).html(i.navText[1]).hide().appendTo(t).on("click",o.proxy(function(){this.next(i.navSpeed)},this)),this._overrides)this._core[e]=o.proxy(this[e],this)},e.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.settings,s=this._core.clones().length/2,n=s+this._core.items().length,o=i.center||i.autoWidth||i.dotData?1:i.dotsEach||i.items;if("page"!==i.slideBy&&(i.slideBy=Math.min(i.slideBy,i.items)),i.dots||"page"==i.slideBy)for(this._pages=[],t=s,e=0;t<n;t++)(o<=e||0===e)&&(this._pages.push({start:t-s,end:t-s+o-1}),e=0,0),e+=this._core.mergers(this._core.relative(t))},e.prototype.draw=function(){var t,e,i="",s=this._core.settings,n=(this._core.$stage.children(),this._core.relative(this._core.current()));if(!s.nav||s.loop||s.navRewind||(this._controls.$previous.toggleClass("disabled",n<=0),this._controls.$next.toggleClass("disabled",n>=this._core.maximum())),this._controls.$previous.toggle(s.nav),this._controls.$next.toggle(s.nav),s.dots){if(t=this._pages.length-this._controls.$indicators.children().length,s.dotData&&0!=t){for(e=0;e<this._controls.$indicators.children().length;e++)i+=this._templates[this._core.relative(e)];this._controls.$indicators.html(i)}else 0<t?(i=new Array(1+t).join(this._templates[0]),this._controls.$indicators.append(i)):t<0&&this._controls.$indicators.children().slice(t).remove();this._controls.$indicators.find(".active").removeClass("active"),this._controls.$indicators.children().eq(o.inArray(this.current(),this._pages)).addClass("active")}this._controls.$indicators.toggle(s.dots)},e.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:o.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotData?1:e.dotsEach||e.items)}},e.prototype.current=function(){var e=this._core.relative(this._core.current());return o.grep(this._pages,function(t){return t.start<=e&&t.end>=e}).pop()},e.prototype.getPosition=function(t){var e,i,s=this._core.settings;return"page"==s.slideBy?(e=o.inArray(this.current(),this._pages),i=this._pages.length,t?++e:--e,e=this._pages[(e%i+i)%i].start):(e=this._core.relative(this._core.current()),i=this._core.items().length,t?e+=s.slideBy:e-=s.slideBy),e},e.prototype.next=function(t){o.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},e.prototype.prev=function(t){o.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},e.prototype.to=function(t,e,i){var s;i?o.proxy(this._overrides.to,this._core)(t,e):(s=this._pages.length,o.proxy(this._overrides.to,this._core)(this._pages[(t%s+s)%s].start,e))},o.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,(window,document)),function(i,s){"use strict";var e=function(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":i.proxy(function(){"URLHash"==this._core.settings.startPosition&&i(s).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":i.proxy(function(t){var e=i(t.content).find("[data-hash]").andSelf("[data-hash]").attr("data-hash");this._hashes[e]=t.content},this)},this._core.options=i.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),i(s).on("hashchange.owl.navigation",i.proxy(function(){var t=s.location.hash.substring(1),e=this._core.$stage.children(),i=this._hashes[t]&&e.index(this._hashes[t])||0;return!!t&&void this._core.to(i,!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var t,e;for(t in i(s).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document);

$(function(){if("undefined"==typeof Chart)return!1;Chart.defaults.global.defaultFontColor="#909090",Chart.defaults.global.legend=!1;var d,t,e,i=$("#blog-id").val(),r=$("#post-id").val(),n=$("#date").val(),c=null,l=$("#mode").val(),p=$("#chart-tab");function f(t,e,a,l){var s=o(a);null!=c&&c.destroy(),s&&$.ajax({url:s,type:"get",dataType:"json",data:"start_date="+t+"&end_date="+e+"&blog_id="+i+"&mode=daily",success:function(t){var s,i,e,o,a,d,n,r;"success"===t.status?(s=[],i=[],o=0,"visitor"===t.message||"visitor_error"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"방문자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}}),"visitor_error"===t.message&&alertPostype("2018년 1월 이전의 방문자・조회수 데이터는 그래프에서 확인할 수 없습니다.")):"views"===t.message||"views_error"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),o<e&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"조회 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}}),"views_error"===t.message&&alertPostype("2018년 1월 이전의 방문자・조회수 데이터는 그래프에서 확인할 수 없습니다.")):"earning_amount"===t.message?(d=[],n=[],r=[],$.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),n.push(e.post),r.push(e.total),d.push(e.membership),o<e.total&&(o=e.total)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"총 수익",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:r},{label:"포스트",borderColor:"#5cc871",borderWidth:3,pointBackgroundColor:"#5cc871",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:n},{label:"멤버십",borderColor:"#fdd254",borderWidth:3,pointBackgroundColor:"#fdd254",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:d}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[3,2],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"like_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),(0===o||o<e)&&(o=e),i.push(e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"좋아요 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"comment_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"댓글 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"subscribe_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"구독자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"membership_count"===t.message&&($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"가입자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}}))):alertPostype(t.message)}})}function h(t,e,a,l){var s=o(a);null!=c&&c.destroy(),s&&$.ajax({url:s,type:"get",dataType:"json",data:"start_date="+t+"&end_date="+e+"&blog_id="+i+"&mode=monthly",success:function(t){var s,i,e,o,a,d,n,r;"success"===t.status?(s=[],i=[],o=0,"visitor"===t.message||"visitor_error"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"방문자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}}),"visitor_error"===t.message&&alertPostype("2018년 1월 이전의 방문자・조회수 데이터는 그래프에서 확인할 수 없습니다.")):"views"===t.message||"views_error"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),o<e&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"조회 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}}),"views_error"===t.message&&alertPostype("2018년 1월 이전의 방문자・조회수 데이터는 그래프에서 확인할 수 없습니다.")):"earning_amount"===t.message?(d=[],n=[],r=[],$.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),n.push(e.post),r.push(e.total),d.push(e.membership),o<e.total&&(o=e.total)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"총 수익",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:r},{label:"포스트",borderColor:"#5cc871",borderWidth:3,pointBackgroundColor:"#5cc871",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:n},{label:"멤버십",borderColor:"#fdd254",borderWidth:3,pointBackgroundColor:"#fdd254",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:d}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[3,2],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"like_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),(0===o||o<e)&&(o=e),i.push(e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"좋아요 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"comment_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"댓글 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"subscribe_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"구독자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"membership_count"===t.message&&($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(l).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"가입자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}}))):alertPostype(t.message)}})}function o(t){var e="";return"visitor_count"===t?e="/api/stats/visitors":"view_count"===t?e="/api/stats/views":"earning"===t?e="/api/stats/earning_amount":"subscribe_count"===t?e="/api/stats/subscribe_count":"like_count"===t?e="/api/stats/like_count":"comment_count"===t&&(e="/api/stats/comment_count"),e}function g(t,e,a,n){var s=o(a);null!=c&&c.destroy(),s&&$.ajax({url:s,type:"get",dataType:"json",data:"start_date="+t+"&end_date="+e+"&blog_id="+i+"&post_id="+r+"&mode="+l,success:function(t){var s,i,e,o,a,d;"success"===t.status?(s=[],i=[],o=0,"visitor"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(n).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"방문자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"views"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),o<e&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(n).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"조회 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"earning_amount"===t.message?(d=[],$.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),d.push(e.total),o<e.total&&(o=e.total)}),a=100*Math.round(o/4/100),e=document.getElementById(n).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"수익",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:d}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[3,2],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"like_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),(0===o||o<e)&&(o=e),i.push(e)}),a=100*Math.round(o/4/100),e=document.getElementById(n).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"좋아요 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"comment_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(n).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"댓글 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"subscribe_count"===t.message?($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(n).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"구독자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}})):"membership_count"===t.message&&($.each(t.data,function(t,e){var a=t.split("-");3===a.length?s.push(a[1]+"-"+a[2]):s.push(t),i.push(e),(0===o||o<e)&&(o=e)}),a=100*Math.round(o/4/100),e=document.getElementById(n).getContext("2d"),c=new Chart(e,{type:"line",data:{labels:s,datasets:[{label:"가입자 수",borderColor:"#3478ff",borderWidth:3,pointBackgroundColor:"#3478ff",pointBorderColor:"#ffffff",pointRadius:6,fill:!1,data:i}]},options:{maintainAspectRatio:!0,aspectRatio:2,scales:{xAxes:[{gridLines:{display:!1},ticks:{padding:6}}],yAxes:[{gridLines:{drawBorder:!1,borderDash:[6,3],lineWidth:1,tickMarkLength:4},ticks:{suggestedMin:0,padding:12,stepSize:a}}]}}}))):alertPostype(t.message)}})}0<p.length&&(d=$("#chart-tab-content"),p.on("click","a",function(){var t=$(this),e=t.attr("href");d.find(".tab-pane").removeClass("show").removeClass("active"),d.find(e).addClass("show").addClass("active"),p.find("a").removeClass("active"),t.addClass("active");var a,s,i,o=d.find(".active canvas").attr("id");return"#chart-visits"===e?i="visitor_count":"#chart-views"===e?i="view_count":"#chart-earnings"===e?i="earning":"#chart-subscribers"===e?i="subscribe_count":"#chart-likes"===e?i="like_count":"#chart-comments"===e&&(i="comment_count"),"daily"===l?(a=n,s=moment(n).subtract(29,"days").format("YYYY-MM-DD"),(r?g:f)(s,a,i,o)):"monthly"===l&&(a=n,s=moment(n).subtract(11,"months").format("YYYY-MM"),(r?g:h)(s,a,i,o)),!1})),0<$("#daily-visitors-chart").length&&f(moment(t=n).subtract(29,"days").format("YYYY-MM-DD"),t,"visitor_count","daily-visitors-chart"),0<$("#monthly-visitors-chart").length&&h(moment(e=n).subtract(11,"months").format("YYYY-MM"),e,"visitor_count","monthly-visitors-chart"),$("#stats-posts-nav").on("click",".nav-link",function(){var t=$(this),e=t.closest("ul"),a=t.attr("href");return e.find(".nav-link").removeClass("active"),t.addClass("active"),$("#best-view-posts").hide(),$("#best-earning-posts").hide(),$("#nav-inline-monthly-tooltip").hasClass("show")&&$("#nav-inline-monthly-tooltip").removeClass("show"),$("#nav-inline-daily-tooltip").hasClass("show")&&$("#nav-inline-daily-tooltip").removeClass("show"),$(a).show(),!1}),$("#btn-more-best-view-posts").on("click",function(){var e=$(this);e.loading(!0);var a=e.attr("data-page");$.ajax({url:"/api/stats/best_view_posts",type:"get",dataType:"json",data:"blog_id="+i+"&date="+n+"&page="+a+"&mode="+l,success:function(t){"success"===t.status&&(0<t.data.items.length&&($(t.data.items).each(function(t,e){var a;a=e.post?'<tr><td class="title p-0"><a href="'+e.admin_url+'"><div class="cell-media-img d-none d-md-block" style="background-image: url('+e.thumbnail+')"></div><div class="cell-media-body"><div class="cell-text">'+e.category_title+'</div><h5 class="cell-title">'+e.post.title+'</h5></div></a></td><td class="count p-0"><a href="'+e.admin_url+'">'+e.view_count+"</a></td></tr>":'<tr><td class="title p-0"><a><div class="cell-media-img d-none d-md-block"></div><div class="cell-media-body"><div class="cell-text"></div><h5 class="cell-title"> 삭제된 포스트입니다. </h5></div></a></td><td class="count no-post p-0"><a>'+e.view_count+"</a></td></tr>",$("#best-view-posts table tbody").append(a)}),a++,e.attr("data-page",a)),t.data.items.length<10&&e.hide()),e.loading(!1)}})}),$("#btn-more-best-earning-posts").on("click",function(){var e=$(this);e.loading(!0);var a=e.attr("data-page");$.ajax({url:"/api/stats/best_earning_posts",type:"get",dataType:"json",data:"blog_id="+i+"&date="+n+"&page="+a+"&mode="+l,success:function(t){"success"===t.status&&(0<t.data.items.length&&($(t.data.items).each(function(t,e){var a;a=e.post?'<tr><td class="title p-0"><a href="'+e.admin_url+'"><div class="cell-media-img d-none d-md-block" style="background-image: url('+e.thumbnail+')"></div><div class="cell-media-body"><div class="cell-text">'+e.category_title+'</div><h5 class="cell-title">'+e.post.title+'</h5></div></a></td><td class="count p-0"><a href="'+e.admin_url+'">'+e.earning.format()+"원</a></td></tr>":'<tr><td class="title p-0"><a><div class="cell-media-img d-none d-md-block"></div><div class="cell-media-body"><div class="cell-text"></div><h5 class="cell-title"> 삭제된 포스트입니다. </h5></div></a></td><td class="count no-post p-0"><a>'+e.earning.format()+"원</a></td></tr>",$("#best-earning-posts table tbody").append(a)}),a++,e.attr("data-page",a)),t.data.items.length<10&&e.hide()),e.loading(!1)}})}),$("#btn-more-referrer").on("click",function(){var e=$(this);e.loading(!0);var a=e.attr("data-page");$.ajax({url:"/api/stats/inflow",type:"get",dataType:"json",data:"blog_id="+i+"&date="+n+"&page="+a+"&mode="+l,success:function(t){"success"===t.status&&(0<t.data.items.length&&($(t.data.items).each(function(t,e){var a='<tr><td class="title"><div class="cell-media">';"direct"===e.media||"www"===e.media?a+='<i class="far fa-globe-asia text-muted"></i>':"postype"===e.media?a+='<i class="brand-icon-postype"></i>':a+='<i class="brand-icon-'+e.media+'"></i>',""!=e.url||"direct"!=e.url?a+='<a class="cell-media-body" href="'+e.url+'" target="_blank">'+e.text+"</a>":a+="직접 유입",a+='</div></td><td class="count"><span class="cell-text">',a+=e.count.format()+"회",a+="</span></td></tr>",$("#referrer-list tbody").append(a)}),a++,e.attr("data-page",a)),t.data.items.length<10&&e.hide()),e.loading(!1)}})}),0<$("#post-views-chart").length&&function(){var t,e=n;t="daily"===l?moment(n).subtract(29,"days").format("YYYY-MM-DD"):moment(n).subtract(11,"months").format("YYYY-MM");g(t,e,"view_count","post-views-chart")}();var a=$("#chart-earnings"),s=$("#chart-views"),u=$("#chart-likes"),m=$("#chart-comments"),b=$("#chart-table");a.hasClass("show")&&b.find("tr > .earnings").addClass("text-primary"),s.hasClass("show")&&b.find("tr > .views").addClass("text-primary"),u.hasClass("show")&&b.find("tr > .likes").addClass("text-primary"),m.hasClass("show")&&b.find("tr > .comments").addClass("text-primary");var k,y,C,v,x=$("#stats-filter"),B=$("#applied-filter");0<x.length&&(x.on("shown.bs.collapse",function(){$(window).width()<768&&B.hide()}),x.on("hidden.bs.collapse",function(){B.show()}),$("#ranking-sort").on("click","a",function(){var t=$(this).attr("data-sort");return x.find("#sort").val(t),x.submit(),!1}),$("#btn-remove-ranking-filter").on("click",function(){return x.find("input[name=start_date]").val(""),x.find("input[name=end_date]").val(""),x.submit(),!1}),k=$("#start-date"),y=$("#end-date"),$.datetimepicker.setLocale("ko"),(C=new Date).setMonth(C.getMonth()-1),C.setHours(0,0,0),C.setMilliseconds(0),k.datetimepicker({format:"Y.m.d.",maxDate:0,timepicker:!1,defaultDate:C}),y.datetimepicker({format:"Y.m.d.",maxDate:0,timepicker:!1,defaultDate:new Date}),v=$("#user-target-options"),$("input[name=user_target]").on("change",function(){"membership"===$(this).val()?v.show():v.hide()}))});
Number.prototype.format=function(){if(0==this)return 0;for(var e=/(^[+-]?\d+)(\d{3})/,t=this+"";e.test(t);)t=t.replace(e,"$1,$2");return t},String.prototype.format=function(){var e=parseFloat(this);return isNaN(e)?"0":e.format()},function(e){var t,n;"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():(t=window.Cookies,(n=window.Cookies=e()).noConflict=function(){return window.Cookies=t,n})}(function(){function p(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}return function e(f){function d(e,t,n){var o,r;if(1<arguments.length){"number"==typeof(n=p({path:"/"},d.defaults,n)).expires&&((r=new Date).setMilliseconds(r.getMilliseconds()+864e5*n.expires),n.expires=r);try{o=JSON.stringify(t),/^[\{\[]/.test(o)&&(t=o)}catch(e){}return t=f.write?f.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",t,n.expires&&"; expires="+n.expires.toUTCString(),n.path&&"; path="+n.path,n.domain&&"; domain="+n.domain,n.secure?"; secure":""].join("")}e||(o={});for(var i=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,c=0;c<i.length;c++){var l=i[c].split("="),u=l[0].replace(a,decodeURIComponent),s=l.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{if(s=f.read?f.read(s,u):f(s,u)||s.replace(a,decodeURIComponent),this.json)try{s=JSON.parse(s)}catch(e){}if(e===u){o=s;break}e||(o[u]=s)}catch(e){}}return o}return(d.get=d.set=d).getJSON=function(){return d.apply({json:!0},[].slice.call(arguments))},d.defaults={},d.remove=function(e,t){d(e,"",p(t,{expires:-1}))},d.withConverter=e,d}(function(){})}),function(e,t){var n;"function"==typeof define&&define.amd?define(["exports","module"],t):"undefined"!=typeof exports&&"undefined"!=typeof module?t(0,module):(t(n={exports:{}},n),e.autosize=n.exports)}(this,function(e,t){"use strict";function n(r){function i(e){var t=r.style.width;r.style.width="0px",r.offsetWidth,r.style.width=t,r.style.overflowY=e}function a(){var e=r.style.height,t=(function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode}(r),document.documentElement&&document.documentElement.scrollTop);r.style.height="";var n=r.scrollHeight+o;if(0===r.scrollHeight)return r.style.height=e,0;r.style.height=n+"px",c=r.clientWidth,t&&(document.documentElement.scrollTop=t)}function e(){a();var e=Math.round(parseFloat(r.style.height)),t=window.getComputedStyle(r,null),n="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):r.offsetHeight;if(n!==e?"hidden"===t.overflowY&&(i("scroll"),a(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight):"hidden"!==t.overflowY&&(i("hidden"),a(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight),l!==n){l=n;var o=f("autosize:resized");try{r.dispatchEvent(o)}catch(e){}}}var o,c,l,n,u,t;r&&r.nodeName&&"TEXTAREA"===r.nodeName&&!s.has(r)&&(o=null,c=r.clientWidth,l=null,n=function(){r.clientWidth!==c&&e()},u=function(t){window.removeEventListener("resize",n,!1),r.removeEventListener("input",e,!1),r.removeEventListener("keyup",e,!1),r.removeEventListener("autosize:destroy",u,!1),r.removeEventListener("autosize:update",e,!1),Object.keys(t).forEach(function(e){r.style[e]=t[e]}),s.delete(r)}.bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap}),r.addEventListener("autosize:destroy",u,!1),"onpropertychange"in r&&"oninput"in r&&r.addEventListener("keyup",e,!1),window.addEventListener("resize",n,!1),r.addEventListener("input",e,!1),r.addEventListener("autosize:update",e,!1),r.style.overflowX="hidden",r.style.wordWrap="break-word",s.set(r,{destroy:u,update:e}),"vertical"===(t=window.getComputedStyle(r,null)).resize?r.style.resize="none":"both"===t.resize&&(r.style.resize="horizontal"),o="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(o)&&(o=0),e())}function o(e){var t=s.get(e);t&&t.destroy()}function r(e){var t=s.get(e);t&&t.update()}var i,a,s="function"==typeof Map?new Map:(i=[],a=[],{has:function(e){return-1<i.indexOf(e)},get:function(e){return a[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),a.push(t))},delete:function(e){var t=i.indexOf(e);-1<t&&(i.splice(t,1),a.splice(t,1))}}),f=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){f=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),t.exports=c}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClipboardJS=t():e.ClipboardJS=t()}(this,function(){return o={},r.m=n=[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e},i=u(n(1)),a=u(n(3)),c=u(n(4));function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.default),r(f,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===o(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){var t=d("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),f);function f(e,t){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return n.resolveOptions(t),n.listenClick(e),n}function d(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=s},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e},i=n(2),a=i&&i.__esModule?i:{default:i};function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=(r(u,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.resolveOptions(e),this.initSelection()}e.exports=l},function(e,t){e.exports=function(e){var t,n,o,r="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),n=window.getSelection(),(o=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(o),n.toString());return r}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function r(){o.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,r=n.length;o<r;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],r=[];if(o&&t)for(var i=0,a=o.length;i<a;i++)o[i].fn!==t&&o[i].fn._!==t&&r.push(o[i]);return r.length?n[e]=r:delete n[e],this}},e.exports=n},function(e,t,n){var u=n(5),s=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!u.string(t))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(e))return c=t,l=n,(a=e).addEventListener(c,l),{destroy:function(){a.removeEventListener(c,l)}};if(u.nodeList(e))return o=e,r=t,i=n,Array.prototype.forEach.call(o,function(e){e.addEventListener(r,i)}),{destroy:function(){Array.prototype.forEach.call(o,function(e){e.removeEventListener(r,i)})}};if(u.string(e))return s(document.body,e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,r,i,a,c,l}},function(e,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var a=n(7);function i(e,t,n,o,r){var i=function(t,n,e,o){return function(e){e.delegateTarget=a(e.target,n),e.delegateTarget&&o.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,i,r),{destroy:function(){e.removeEventListener(n,i,r)}}}e.exports=function(e,t,n,o,r){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,n,o,r)}))}},function(e,t){var n;"undefined"==typeof Element||Element.prototype.matches||((n=Element.prototype).matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector),e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}],r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0);function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,o}),function(n){n.fn.changeElementType=function(e){var t={};this.replaceWith(function(){return n("<"+e+"/>",t).append(n(this).contents())})}}(jQuery);